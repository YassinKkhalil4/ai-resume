"use strict";(()=>{var e={};e.id=841,e.ids=[841],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},57147:e=>{e.exports=require("fs")},32058:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f});var o={};r.r(o),r.d(o,{GET:()=>d,dynamic:()=>p,runtime:()=>l});var n=r(49303),i=r(88716),s=r(60670),a=r(87070);let p="force-dynamic",l="nodejs";async function d(e,{params:t}){try{let e=t.file;if(!e)return a.NextResponse.json({error:"Missing file parameter",code:"missing_file"},{status:400});let o=await Promise.resolve().then(r.t.bind(r,57147,23)),n=`/tmp/${e}`;if(!o.existsSync(n))return a.NextResponse.json({error:"File not found or expired",code:"file_not_found"},{status:404});let i=o.readFileSync(n),s=e.endsWith(".pdf");try{o.unlinkSync(n)}catch(e){console.warn("Failed to cleanup file:",e)}return new a.NextResponse(i,{headers:{"Content-Type":s?"application/pdf":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","Content-Disposition":`attachment; filename="resume.${s?"pdf":"docx"}"`,"Content-Length":i.length.toString()}})}catch(e){return console.error("File download error:",e),a.NextResponse.json({error:"Internal server error",code:"download_error",details:void 0},{status:500})}}let u=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/export/[file]/route",pathname:"/api/export/[file]",filename:"route",bundlePath:"app/api/export/[file]/route"},resolvedPagePath:"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/api/export/[file]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:f,serverHooks:m}=u,x="/api/export/[file]/route";function h(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,972],()=>r(32058));module.exports=o})();