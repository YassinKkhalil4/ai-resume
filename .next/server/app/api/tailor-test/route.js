"use strict";(()=>{var e={};e.id=423,e.ids=[423],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},85082:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>x,requestAsyncStorage:()=>c,routeModule:()=>m,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var o={};r.r(o),r.d(o,{GET:()=>u,POST:()=>d,dynamic:()=>l,runtime:()=>p});var s=r(49303),a=r(88716),i=r(60670),n=r(87070);let l="force-dynamic",p="nodejs";async function u(e){return n.NextResponse.json({error:"Method not allowed",message:"This endpoint only accepts POST requests",method:e.method},{status:405})}async function d(e){console.log("Tailor-test API called:",{method:e.method,url:e.url,timestamp:new Date().toISOString()});try{console.log("Starting form data parsing...");let t=await e.formData();console.log("Form data parsed successfully");let o=t.get("resume_file"),s=t.get("jd_text")?.toString(),a=t.get("tone")?.toString();console.log("Form data extracted:",{hasResumeFile:!!o,jdTextLength:s?.length||0,tone:a}),console.log("Testing mammoth import...");try{r(47699),console.log("mammoth imported successfully")}catch(e){return console.error("mammoth import failed:",e),n.NextResponse.json({error:"mammoth import failed",details:String(e),timestamp:new Date().toISOString()},{status:500})}console.log("Testing pdfjs-dist import...");try{await r.e(585).then(r.bind(r,17585)),console.log("pdfjs-dist imported successfully")}catch(e){return console.error("pdfjs-dist import failed:",e),n.NextResponse.json({error:"pdfjs-dist import failed",details:String(e),timestamp:new Date().toISOString()},{status:500})}return n.NextResponse.json({status:"success",message:"Tailor-test endpoint working",data:{hasResumeFile:!!o,jdTextLength:s?.length||0,tone:a,mammothWorking:!0,pdfjsDistWorking:!0},timestamp:new Date().toISOString()})}catch(e){return console.error("Tailor-test API error:",e),console.error("Error stack:",e instanceof Error?e.stack:"No stack trace"),n.NextResponse.json({error:"Internal server error",code:"server_error",details:String(e),timestamp:new Date().toISOString()},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/tailor-test/route",pathname:"/api/tailor-test",filename:"route",bundlePath:"app/api/tailor-test/route"},resolvedPagePath:"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/api/tailor-test/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:g,serverHooks:h}=m,f="/api/tailor-test/route";function x(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[948,972,969,699],()=>r(85082));module.exports=o})();