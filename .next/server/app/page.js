(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},42144:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(90908),t(37716),t(35866);var l=t(23191),i=t(88716),a=t(37922),n=t.n(a),r=t(95231),o={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>r[e]);t.d(s,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90908)),"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,37716)),"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx"],m="/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new l.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},46318:(e,s,t)=>{Promise.resolve().then(t.bind(t,49707))},93342:(e,s,t)=>{Promise.resolve().then(t.bind(t,14633))},2622:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},49707:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var l=t(10326),i=t(17577),a=t(43353);function n({value:e,onChange:s}){let[t,a]=(0,i.useState)(""),[n,r]=(0,i.useState)(!1);async function o(){if(t){r(!0);try{let e=await fetch("/api/tailor",{method:"POST",body:(()=>{let e=new FormData;return e.append("jd_url",t),e.append("mode","fetchOnly"),e})()}),l=await e.json();e.ok&&l?.jd_text?s(l.jd_text):alert(l?.error||"Could not fetch that URL. Paste text instead.")}catch(e){alert(e?.message||"Failed to fetch URL.")}finally{r(!1)}}}return(0,l.jsxs)("div",{className:"grid gap-2",children:[l.jsx("textarea",{className:"input h-40",placeholder:"Paste the job description here…",value:e,onChange:e=>s(e.target.value)}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("input",{className:"input",placeholder:"…or paste a job URL",value:t,onChange:e=>a(e.target.value)}),l.jsx("button",{className:"button-outline",onClick:o,disabled:n,children:n?"Fetching…":"Fetch URL"})]})]})}function r(e,s){return`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  /* Force safe system fonts to avoid blank glyphs in serverless Chromium */
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#111; font-size: 11.5pt; line-height: 1.35; }
  h2 { font-size: 12.5pt; margin: 0 0 6px; letter-spacing: 0.2px; }
  .sec { margin: 16px 0; }
  .role { font-weight: 600; }
  ul { margin: 4px 0 0 16px; padding: 0; }
  li { margin: 2px 0; }
  .sep { height:1px; background:#eaeaea; margin:10px 0; }
</style></head><body>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Summary</h2><div>${o(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2><div class="sep"></div>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="role">${o(e.role)} — ${o(e.company)} <span style="color:#666; font-weight:400">(${o(e.dates)})</span></div>
        <ul>${e.bullets.map(e=>`<li>${o(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div>${(e.skills||[]).join(" • ")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${o(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`}function o(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function d(e,s){return`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#111; font-size: 12pt; line-height: 1.35; }
  h2 { font-size: 13pt; margin: 0 0 8px; }
  .sec { margin: 14px 0; }
  .row { display:flex; justify-content: space-between; }
  .role { font-weight: 600; }
  ul { margin: 6px 0 0 16px; padding: 0; }
  li { margin: 4px 0; }
  .chips span { display:inline-block; background:#f5f5f5; border-radius: 6px; padding: 2px 8px; margin: 0 6px 6px 0; font-size: 10pt; }
  .divider { height:1px; background:#eee; margin:8px 0; }
</style></head><body>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Summary</h2><div>${c(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2><div class="divider"></div>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="row"><div class="role">${c(e.role)} — ${c(e.company)}</div><div style="color:#666">${c(e.dates)}</div></div>
        <ul>${e.bullets.map(e=>`<li>${c(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div class="chips">${(e.skills||[]).map(e=>`<span>${c(e)}</span>`).join("")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${c(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`}function c(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function m(e,s){return`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#111; font-size: 12pt; line-height: 1.35; }
  h1,h2 { margin: 0 0 6px; }
  h2 { font-size: 13pt; border-bottom: 1px solid #ddd; padding-bottom: 4px; }
  .sec { margin: 14px 0; }
  .role { font-weight: bold; }
  ul { margin: 6px 0 0 16px; padding: 0; }
  li { margin: 4px 0; }
  .chips span { display:inline-block; border:1px solid #ccc; border-radius: 12px; padding: 2px 8px; margin: 0 6px 6px 0; font-size: 10pt; }
</style></head><body>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Summary</h2><div>${u(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="role">${u(e.role)} — ${u(e.company)}</div>
        <div class="dates" style="color:#666">${u(e.dates)}</div>
        <ul>${e.bullets.map(e=>`<li>${u(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div class="chips">${(e.skills||[]).map(e=>`<span>${u(e)}</span>`).join("")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${u(e)}</li>`).join("")}</ul></div>`:""}
  ${e.certifications?.length?`<div class="sec"><h2>Certifications</h2><ul>${(e.certifications||[]).map(e=>`<li>${u(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`}function u(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function x(e,s){var t;let l=`
  body{font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#0b0b0b; font-size:11.5pt; line-height:1.38;}
  .wrap{max-width:820px; margin:0 auto;}
  .hdr{display:grid; grid-template-columns: 2fr 1fr; gap:16px; align-items:flex-end; border-bottom:2px solid #111; padding-bottom:10px; margin-bottom:14px}
  .name{font-size:20pt; font-weight:700; letter-spacing:.2px}
  .contact{font-size:10pt; color:#444; text-align:right}
  h2{font-size:12.8pt; margin:14px 0 6px; letter-spacing:.2px}
  .sec{margin: 6px 0 10px}
  .role{font-weight:600}
  ul{margin:4px 0 0 16px; padding:0}
  li{margin:2px 0}
  .meta{color:#666; font-weight:400}
  `,i=e.contact?.name||"",a=(t=e.contact)?[t.email,t.phone,t.location,t.website].filter(Boolean):[];return`<!doctype html><html><head><meta charset="utf-8" /><style>${l}</style></head><body><div class="wrap">
  <div class="hdr">
    <div class="name">${p(i)}</div>
    <div class="contact">${a.join(" \xb7 ")}</div>
  </div>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Executive Summary</h2><div>${p(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="role">${p(e.role)} — ${p(e.company)} <span class="meta">(${p(e.dates)})</span></div>
        <ul>${e.bullets.map(e=>`<li>${p(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Core Skills</h2><div>${(e.skills||[]).join(" • ")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${p(e)}</li>`).join("")}</ul></div>`:""}
  </div></body></html>`}function p(e){return(e||"").replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function h(e,s){let t=`
  body{font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#111; font-size:11.5pt; line-height:1.4}
  .wrap{max-width:820px; margin:0 auto}
  h1{font-size:18pt; margin:0 0 6px; font-weight:700}
  h2{font-size:12.5pt; margin:12px 0 6px}
  .sec{margin: 6px 0 10px}
  ul{margin:4px 0 0 16px; padding:0}
  li{margin:2px 0}
  .meta{color:#666}
  `,l=e.contact||{};return`<!doctype html><html><head><meta charset="utf-8" /><style>${t}</style></head><body><div class="wrap">
    <h1>${b(l.name||"")}</h1>
    ${s.includeSummary&&e.summary?`<div class="sec"><h2>Research Summary</h2><div>${b(e.summary)}</div></div>`:""}
    ${g("Projects",e.projects?.map(e=>`${b(e.name)} — ${e.bullets.map(e=>b(e)).join("; ")}`)||[])}
    ${g("Publications",e.publications||[])}
    ${g("Teaching",e.teaching||[])}
    ${g("Experience",(e.experience||[]).map(e=>`${b(e.role)} — ${b(e.company)} <span class=meta>(${b(e.dates)})</span>`))}
    ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div>${(e.skills||[]).join(" • ")}</div></div>`:""}
    ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${b(e)}</li>`).join("")}</ul></div>`:""}
  </div></body></html>`}function g(e,s){return s&&s.length?`<div class="sec"><h2>${e}</h2><ul>${s.map(e=>`<li>${e}</li>`).join("")}</ul></div>`:""}function b(e){return(e||"").replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function v({diffs:e}){let[s,t]=(0,i.useState)("all"),a=(0,i.useMemo)(()=>["all",...new Set(e.map(e=>e.role))],[e]),n=(0,i.useMemo)(()=>e.filter(e=>"all"===s||e.role===s),[e,s]);return(0,l.jsxs)("div",{className:"border rounded-md p-3 bg-gray-50 text-xs max-h-96 overflow-auto",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"label",children:"Section"}),l.jsx("select",{className:"input w-auto",value:s,onChange:e=>t(e.target.value),children:a.map(e=>l.jsx("option",{value:e,children:e},e))})]}),0===n.length&&l.jsx("div",{className:"text-gray-500",children:"No changes."}),n.map((e,s)=>(0,l.jsxs)("div",{className:"mb-4",children:[l.jsx("div",{className:"font-medium",children:e.role}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label",children:"Original"}),l.jsx("ul",{className:"list-disc pl-4",children:e.original.map((e,s)=>l.jsx("li",{className:"line-through text-gray-500",children:e},s))})]}),(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label",children:"Tailored"}),l.jsx("ul",{className:"list-disc pl-4",children:e.tailored.map((s,t)=>l.jsx("li",{className:"text-green-700 underline decoration-green-400",title:(e.reasons||[]).join(" • "),children:s},t))})]})]})]},s))]})}function f({stats:e}){let s=Math.round(100*(e?.coverage||0)),t=Math.round(100*(e?.mustCoverage||0)),i=Math.round(100*(e?.niceCoverage||0)),a=Math.round(100*(e?.semanticCoverage||0));return(0,l.jsxs)("div",{className:"border rounded-md p-3 bg-white",children:[l.jsx("div",{className:"font-medium mb-1",children:"ATS Check"}),l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Keyword coverage and sanity checks."}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:l.jsx("div",{className:"h-2 rounded",style:{width:s+"%",background:s>=80?"#10B981":s>=60?"#F59E0B":"#EF4444"}})}),(0,l.jsxs)("div",{className:"text-sm",children:[s,"% overall"]})]}),l.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Must-haves"}),(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:l.jsx("div",{className:"h-2 rounded",style:{width:t+"%",background:t>=80?"#10B981":t>=60?"#F59E0B":"#EF4444"}})}),(0,l.jsxs)("div",{className:"text-sm",children:[t,"%"]})]}),l.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Nice-to-haves"}),(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:l.jsx("div",{className:"h-2 rounded",style:{width:i+"%",background:i>=80?"#10B981":i>=60?"#F59E0B":"#EF4444"}})}),(0,l.jsxs)("div",{className:"text-sm",children:[i,"%"]})]}),l.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Semantic coverage"}),(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:l.jsx("div",{className:"h-2 rounded",style:{width:a+"%",background:a>=80?"#10B981":a>=60?"#F59E0B":"#EF4444"}})}),(0,l.jsxs)("div",{className:"text-sm",children:[a,"%"]})]}),(0,l.jsxs)("div",{className:"text-xs mb-2",children:[l.jsx("strong",{children:"Top missing:"})," ",(e?.topMissing||[]).slice(0,5).join(", ")||"—"]}),Array.isArray(e?.gaps)&&e.gaps.length>0&&(0,l.jsxs)("div",{className:"text-xs mt-2",children:[l.jsx("div",{className:"label mb-1",children:"Gap map (nearest support)"}),l.jsx("ul",{className:"list-disc ml-4",children:e.gaps.slice(0,5).map((e,s)=>(0,l.jsxs)("li",{children:[l.jsx("strong",{children:e.requirement}),' → match "',e.nearestBullet,'" (score ',Math.round(100*(e.score||0))/100,")"]},s))})]}),(0,l.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs",children:[(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label",children:"Matched"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:(e?.matched||[]).slice(0,20).map((e,s)=>l.jsx("span",{className:"badge border-green-300",children:e},s))})]}),(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label",children:"Missing (relevant)"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:(e?.missing||[]).slice(0,20).map((e,s)=>l.jsx("span",{className:"badge border-red-300",children:e},s))})]})]}),e?.warnings?.length>0&&l.jsx("div",{className:"mt-3 text-xs text-red-600",children:e.warnings.map((e,s)=>(0,l.jsxs)("div",{children:["⚠️ ",e]},s))})]})}function j({sessionId:e,onClose:s}){let[t,a]=(0,i.useState)("minimal"),[n,r]=(0,i.useState)("pdf"),[o,d]=(0,i.useState)(!0),[c,m]=(0,i.useState)(!0),[u,x]=(0,i.useState)(!1),[p,h]=(0,i.useState)(null);async function g(){x(!0);try{var s;let l=await fetch("/api/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,template:t,format:n,options:{includeSkills:o,includeSummary:c},session_snapshot:null})});if(!l.ok){let e=null;try{e=await l.json()}catch{}throw Error(e?.message||`Export HTTP ${l.status}`)}let i=l.headers.get("content-type")||"",a=/^application\/pdf/i.test(i),r=/^application\/vnd\.openxmlformats/i.test(i);if(!a&&!r){let e=await l.text();throw Error(`Malformed export response: ${e.slice(0,300)}`)}s=await l.blob(),h(URL.createObjectURL(s))}catch(e){alert(e?.message||"Failed to export.")}finally{x(!1)}}return l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"card p-6 w-[560px] max-w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"font-semibold",children:"Export"}),l.jsx("button",{className:"button-outline",onClick:s,children:"Close"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label mb-1",children:"Template"}),(0,l.jsxs)("select",{className:"input",value:t,onChange:e=>a(e.target.value),children:[l.jsx("option",{value:"classic",children:"Classic"}),l.jsx("option",{value:"modern",children:"Modern"}),l.jsx("option",{value:"minimal",children:"Minimal"}),l.jsx("option",{value:"executive",children:"Executive"}),l.jsx("option",{value:"academic",children:"Academic/Projects"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label mb-1",children:"Format"}),(0,l.jsxs)("select",{className:"input",value:n,onChange:e=>r(e.target.value),children:[l.jsx("option",{value:"pdf",children:"PDF"}),l.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),(0,l.jsxs)("div",{className:"mt-3 flex items-center gap-4",children:[(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:e=>m(e.target.checked)}),"Include Summary"]}),(0,l.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",checked:o,onChange:e=>d(e.target.checked)}),"Include Skills"]})]}),(0,l.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[l.jsx("button",{className:"button",onClick:g,disabled:u,children:u?"Exporting…":"Export"}),p&&l.jsx("a",{className:"button-outline",href:p,target:"_blank",rel:"noreferrer",children:"Download"})]}),l.jsx("div",{className:"text-xs text-gray-500 mt-3",children:"DOCX exports instantly. PDF may take a few seconds. All exports are text-selectable and ATS-safe."})]})})}function y({session:e}){let[s,t]=(0,i.useState)(!1),[a,n]=(0,i.useState)("tailored"),[o,c]=(0,i.useState)("minimal"),[u,p]=(0,i.useState)(null),[g,b]=(0,i.useState)(!1),[y,N]=(0,i.useState)([]),w=(0,i.useMemo)(()=>e.preview_sections_json?S(e.preview_sections_json,o):"<p>No tailored content available</p>",[e,o]),k=(0,i.useMemo)(()=>e.original_sections_json?S(e.original_sections_json,o):"<p>No original content available</p>",[e,o]);function S(e,s){let t={includeSkills:!0,includeSummary:!0};return"classic"===s?m(e,t):"modern"===s?d(e,t):"executive"===s?x(e,t):"academic"===s?h(e,t):r(e,t)}async function $(){b(!0);try{let s=await fetch("/api/honesty",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e.session_id,session_version:e.version,original_payload:e.original_sections_json,tailored_payload:e.preview_sections_json})}),t=await s.json();if(!s.ok){if("stale_session"===t.code){alert("Session data is outdated. Please refresh the page and try again.");return}throw Error(t?.message||"Honesty scan failed")}p(t)}catch(e){alert(e?.message||"Honesty scan failed")}finally{b(!1)}}return(0,l.jsxs)("section",{className:"card p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("h2",{children:"Preview"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[l.jsx("button",{className:`button-outline ${"tailored"===a?"border-black":""}`,onClick:()=>n("tailored"),children:"Tailored"}),l.jsx("button",{className:`button-outline ${"original"===a?"border-black":""}`,onClick:()=>n("original"),children:"Original"}),l.jsx("button",{className:"button-outline",onClick:$,disabled:g,children:g?"Scanning...":"Honesty scan"}),l.jsx("button",{className:"button",onClick:()=>t(!0),children:"Export"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"label",children:"Template"}),(0,l.jsxs)("select",{className:"input w-auto",value:o,onChange:e=>c(e.target.value),children:[l.jsx("option",{value:"classic",children:"Classic"}),l.jsx("option",{value:"modern",children:"Modern"}),l.jsx("option",{value:"minimal",children:"Minimal"}),l.jsx("option",{value:"executive",children:"Executive"}),l.jsx("option",{value:"academic",children:"Academic/Projects"})]})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"label mb-2",children:["Resume Preview (",a,")"]}),l.jsx("div",{className:"bg-gray-50 p-3 rounded overflow-auto text-xs h-96 border",dangerouslySetInnerHTML:{__html:"tailored"===a?w:k}})]}),(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label mb-2",children:"Changes"}),l.jsx(v,{diffs:y}),l.jsx("div",{className:"mt-4",children:l.jsx(f,{stats:e.keyword_stats})}),(0,l.jsxs)("div",{className:"mt-4",children:[l.jsx("div",{className:"label mb-2",children:"Visual preview"}),l.jsx("iframe",{className:"w-full h-96 bg-white border rounded",srcDoc:function(){let s=e.preview_sections_json,t={includeSkills:!0,includeSummary:!0};return"classic"===o?m(s,t):"modern"===o?d(s,t):"executive"===o?x(s,t):"academic"===o?h(s,t):r(s,t)}()})]})]})]}),u&&(0,l.jsxs)("div",{className:"mt-4 border rounded-md p-3 bg-white",children:[l.jsx("div",{className:"font-medium mb-1",children:"Honesty scan"}),u.flags?.length?u.flags.map((e,s)=>(0,l.jsxs)("div",{className:"mb-2 text-xs",children:[(0,l.jsxs)("div",{children:["⚠️ ",l.jsx("strong",{children:e.role}),": ",e.bullet]}),(0,l.jsxs)("div",{className:"text-gray-600",children:["Backed by: ",(e.backing||[]).join(" | ")||"No close match in original."]})]},s)):l.jsx("div",{className:"text-xs text-green-700",children:"All rewritten bullets appear supported by the original."})]}),s&&l.jsx(j,{sessionId:e.session_id,onClose:()=>t(!1)})]})}function N({validation:e,onAction:s,onDismiss:t,resumeText:a}){let[n,r]=(0,i.useState)(!1),o=e.hasExperience?e.experienceCount>0&&e.experienceCount<2?{type:"warning",title:"Limited Experience Found",message:`Only ${e.experienceCount} work experience found. More experience will improve tailoring results.`,actions:[{label:"Add More Experience",action:"add_experience"},{label:"Continue Anyway",action:"continue"}]}:e.hasSkills?{type:"success",title:"Resume Parsed Successfully",message:"Your resume has been parsed and is ready for tailoring.",actions:[{label:"Continue to Tailoring",action:"continue"}]}:{type:"warning",title:"Skills Section Missing",message:"No skills section detected. Adding skills will improve ATS compatibility.",actions:[{label:"Add Skills",action:"add_skills"},{label:"Continue Without Skills",action:"continue"}]}:{type:"error",title:"Experience Not Found",message:"We couldn't find any work experience in your resume. This is required for tailoring.",actions:[{label:"Paste Work History",action:"paste_experience"},{label:"Mark Lines as Experience",action:"mark_experience"},{label:"Try Different Resume",action:"upload_new"}]};if("success"===o.type)return null;let d="error"===o.type;return l.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${d?"bg-red-50 border-b border-red-200":"bg-yellow-50 border-b border-yellow-200"}`,children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`flex-shrink-0 ${d?"text-red-400":"text-yellow-400"}`,children:d?l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):l.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:`text-sm font-medium ${d?"text-red-800":"text-yellow-800"}`,children:o.title}),l.jsx("p",{className:`text-sm ${d?"text-red-700":"text-yellow-700"}`,children:o.message})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[e.suggestions.length>0&&(0,l.jsxs)("button",{onClick:()=>r(!n),className:`text-sm font-medium ${d?"text-red-600 hover:text-red-500":"text-yellow-600 hover:text-yellow-500"}`,children:[n?"Hide":"Show"," Suggestions"]}),t&&!d&&l.jsx("button",{onClick:t,className:"text-yellow-600 hover:text-yellow-500",children:l.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),n&&e.suggestions.length>0&&l.jsx("div",{className:"mt-3 pl-8",children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.suggestions.map((e,s)=>l.jsx("li",{className:`text-sm ${d?"text-red-700":"text-yellow-700"}`,children:e},s))})}),l.jsx("div",{className:"mt-3 pl-8",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:o.actions.map((e,t)=>l.jsx("button",{onClick:()=>s(e.action),className:`px-3 py-1 text-sm font-medium rounded-md ${d?"bg-red-100 text-red-800 hover:bg-red-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:e.label},t))})})]})})}function w({isOpen:e,onClose:s,onSubmit:t,originalText:a}){let[n,r]=(0,i.useState)(a||""),[o,d]=(0,i.useState)(!1);if(!e)return null;let c=async()=>{if(n.trim()){d(!0);try{await t(n.trim()),s()}catch(e){console.error("Failed to submit experience:",e)}finally{d(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Add Work Experience"}),l.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Paste your work experience below. Include job titles, companies, dates, and bullet points describing your responsibilities and achievements."}),l.jsx("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"Example: Software Engineer at Google (2020-2023) • Developed scalable web applications using React and Node.js • Led a team of 5 engineers to deliver features on time • Improved application performance by 40%  Senior Developer at Microsoft (2018-2020) • Built microservices architecture for enterprise clients • Mentored junior developers and conducted code reviews • Reduced system downtime by 60%",className:"w-full h-64 p-3 border border-gray-300 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",disabled:o,children:"Cancel"}),l.jsx("button",{onClick:c,disabled:!n.trim()||o,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Processing...":"Add Experience"})]})]})})}function k({lines:e,onSelectionChange:s,initialSelections:t=[]}){let[a,n]=(0,i.useState)(t),r=e=>{let s=e.trim();return/\b(19|20)\d{2}\b/.test(s)||/\b(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)\b/i.test(s)?"date":/^[A-Z][A-Z\s&.,-]+$/.test(s)&&(/\b(inc|llc|corp|ltd|company|co|group|technologies|systems)\b/i.test(s)||s.length>10)?"company":/^[A-Z][a-z\s&.,-]+$/.test(s)&&(/\b(engineer|developer|manager|director|analyst|specialist|coordinator|lead|senior|junior)\b/i.test(s)||s.length>5&&s.length<50)?"role":/^[•\-\*]\s+/.test(s)||/^(developed|implemented|created|designed|managed|led|built|improved|increased|reduced)/i.test(s)?"bullet":"other"},o=e=>{switch(e){case"company":return"bg-blue-50 border-blue-200 text-blue-800";case"role":return"bg-green-50 border-green-200 text-green-800";case"date":return"bg-purple-50 border-purple-200 text-purple-800";case"bullet":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},d=(e,t)=>{if(a.findIndex(s=>s.lineIndex===e)>=0){let t=a.filter(s=>s.lineIndex!==e);n(t),s(t)}else{let l=r(t),i=[...a,{lineIndex:e,lineText:t,type:l}].sort((e,s)=>e.lineIndex-s.lineIndex);n(i),s(i)}},c=e=>a.some(s=>s.lineIndex===e),m=e=>a.find(s=>s.lineIndex===e)?.groupId;return(0,l.jsxs)("div",{className:"p-4 space-y-2",children:[e.map((e,s)=>{let t=c(s),i=r(e),a=m(s),n=o(i);return(0,l.jsxs)("div",{className:`
              flex items-start gap-3 p-3 rounded-md border cursor-pointer transition-all
              ${t?"bg-blue-100 border-blue-300 shadow-sm":"hover:bg-gray-50 border-gray-200"}
            `,onClick:()=>d(s,e),children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:l.jsx("input",{type:"checkbox",checked:t,onChange:()=>d(s,e),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-xs text-gray-500 font-mono",children:String(s+1).padStart(3,"0")}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${n}`,children:i}),a&&(0,l.jsxs)("span",{className:"px-2 py-1 text-xs bg-indigo-100 text-indigo-700 rounded-full",children:["Group ",a.split("_")[1]]})]}),l.jsx("div",{className:"text-sm text-gray-800 break-words",children:e||l.jsx("span",{className:"text-gray-400 italic",children:"(empty line)"})})]})]},s)}),0===e.length&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"No lines found in resume text"})]})}function S({selections:e,lines:s}){let t=(0,i.useMemo)(()=>{if(0===e.length)return[];let s={},t=[];e.forEach(e=>{e.groupId?(s[e.groupId]||(s[e.groupId]=[]),s[e.groupId].push(e)):t.push(e)});let l=[];if(Object.entries(s).forEach(([e,s])=>{let t=s.sort((e,s)=>e.lineIndex-s.lineIndex),i="",a="",n="",r=[];t.forEach(e=>{let s=e.lineText.trim();switch(e.type){case"company":i||(i=s);break;case"role":a||(a=s);break;case"date":n||(n=s);break;case"bullet":r.push(s);break;default:/^[A-Z][A-Z\s&.,-]+$/.test(s)&&s.length>5?i||(i=s):/^[A-Z][a-z\s&.,-]+$/.test(s)&&s.length>3&&s.length<50?a||(a=s):/\b(19|20)\d{2}\b/.test(s)?n||(n=s):r.push(s)}}),l.push({groupId:e,company:i||"Unknown Company",role:a||"Unknown Role",dates:n||"No dates specified",bullets:r,ungroupedLines:[]})}),t.length>0){let e=t.map(e=>e.lineText.trim());l.push({groupId:"ungrouped",company:"Ungrouped Experience",role:"Various Roles",dates:"Various Dates",bullets:[],ungroupedLines:e})}return l},[e]),a=(0,i.useMemo)(()=>t.reduce((e,s)=>e+s.bullets.length,0),[t]);return 0===e.length?(0,l.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[l.jsx("div",{className:"mb-2",children:"\uD83D\uDCDD"}),l.jsx("p",{children:"No lines selected"}),l.jsx("p",{className:"text-sm",children:"Click on lines in the left panel to mark them as experience"})]}):(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[l.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Selection Summary"}),(0,l.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,l.jsxs)("div",{children:["• ",e.length," lines selected"]}),(0,l.jsxs)("div",{children:["• ",t.length," experience entries"]}),(0,l.jsxs)("div",{children:["• ",a," bullet points"]})]})]}),t.map((e,s)=>(0,l.jsxs)("div",{className:"border border-gray-200 rounded-md p-4",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800",children:e.company}),l.jsx("p",{className:"text-sm text-gray-600",children:e.role}),l.jsx("p",{className:"text-xs text-gray-500",children:e.dates})]}),(0,l.jsxs)("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:["Entry ",s+1]})]}),e.bullets.length>0&&(0,l.jsxs)("div",{className:"mb-3",children:[l.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Bullet Points:"}),l.jsx("ul",{className:"space-y-1",children:e.bullets.map((e,s)=>(0,l.jsxs)("li",{className:"text-sm text-gray-600 flex items-start",children:[l.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),l.jsx("span",{children:e})]},s))})]}),e.ungroupedLines.length>0&&(0,l.jsxs)("div",{children:[l.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Additional Lines:"}),l.jsx("div",{className:"space-y-1",children:e.ungroupedLines.map((e,s)=>l.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:e},s))})]}),0===e.bullets.length&&0===e.ungroupedLines.length&&l.jsx("div",{className:"text-sm text-gray-500 italic",children:"No detailed content selected for this entry"})]},e.groupId)),(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:[l.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Next Steps"}),(0,l.jsxs)("div",{className:"text-sm text-yellow-700",children:[l.jsx("div",{children:"• Selected lines will be processed into structured experience data"}),l.jsx("div",{children:"• AI will tailor this experience to match the job description"}),l.jsx("div",{children:"• You can edit the results in the preview after processing"})]})]})]})}function $({isOpen:e,onClose:s,onSubmit:t,resumeText:a,originalResume:n}){let[r,o]=(0,i.useState)([]),[d,c]=(0,i.useState)(!1),[m,u]=(0,i.useState)(""),x=a.split("\n").map((e,s)=>({index:s,text:e.trim(),isEmpty:!e.trim()})).filter(e=>!e.isEmpty),p=async()=>{if(0!==r.length){c(!0);try{await t(r),s()}catch(e){console.error("Failed to submit line selections:",e)}finally{c(!1)}}};return e?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Mark Lines as Experience"}),l.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),l.jsx("div",{className:"mb-4",children:l.jsx("p",{className:"text-sm text-gray-600",children:"Click on lines to mark them as experience. Group related lines together to form complete experience entries. Selected lines will be processed into structured experience data."})}),(0,l.jsxs)("div",{className:"flex-1 grid grid-cols-2 gap-6 overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("h3",{className:"font-medium",children:["Resume Lines (",x.length," lines)"]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{if(0===r.length)return;r.map(e=>e.lineIndex);let e=`group_${Date.now()}`;o(r.map(s=>({...s,groupId:e}))),u(e)},disabled:0===r.length,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Group Selected"}),l.jsx("button",{onClick:()=>{o([]),u("")},disabled:0===r.length,className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear All"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md",children:l.jsx(k,{lines:x.map(e=>e.text),onSelectionChange:e=>{o(e)},initialSelections:r})})]}),(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("h3",{className:"font-medium mb-3",children:["Experience Preview (",r.length," lines selected)"]}),l.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md",children:l.jsx(S,{selections:r,lines:x.map(e=>e.text)})})]})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-3 mt-4 pt-4 border-t",children:[l.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",disabled:d,children:"Cancel"}),l.jsx("button",{onClick:p,disabled:0===r.length||d,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Processing...":`Process ${r.length} Lines`})]})]})}):null}let _=t.n(a)()(async()=>{},{loadableGenerated:{modules:["app/page.tsx -> ../components/FileDrop"]},ssr:!1});function C(){let[e,s]=(0,i.useState)(null),[t,a]=(0,i.useState)(""),[r,o]=(0,i.useState)("professional"),[d,c]=(0,i.useState)(null),[m,u]=(0,i.useState)(!1),[x,p]=(0,i.useState)(null),[h,g]=(0,i.useState)(!1),[b,v]=(0,i.useState)(!1),[f,j]=(0,i.useState)(!0),[k,S]=(0,i.useState)(""),C=function(){let[e,s]=(0,i.useState)(!1),[t,l]=(0,i.useState)("");return{ok:e,code:t,setCode:l,submit:function(){t&&(document.cookie=`invite=${encodeURIComponent(t)}; path=/; max-age=2592000`,s(!0))}}}();async function P(e){try{let s=new FormData;s.append("file",e);let t=await fetch("/api/parse-resume",{method:"POST",body:s});if(t.ok)return(await t.json()).resumeText||""}catch(e){console.error("Failed to extract resume text:",e)}try{return await e.text()}catch(e){return console.error("Failed to read file as text:",e),""}}async function E(){if(!e)return alert("Upload a resume and paste a job description.");if(!t)return alert("Paste a job description.");u(!0);try{let s=await P(e);S(s);let l=new FormData;l.append("resume_file",e),l.append("jd_text",t),l.append("tone",r);let i=await fetch("/api/tailor",{method:"POST",body:l}),a=await i.json();if(!i.ok){if("missing_experience"===a.code){p(a.validation),j(!0),u(!1);return}throw Error(a?.message||"Tailoring failed.")}c(a),p(a.validation),j(!1)}catch(e){alert(e?.message||"Failed to tailor.")}finally{u(!1)}}async function M(e){if(!t){alert("Job description is required. Please paste a job description first.");return}u(!0);try{let s=await fetch("/api/process-experience",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({experienceText:e,jdText:t,tone:r,sessionId:d?.session_id})}),l=await s.json();if(!s.ok)throw Error(l?.message||"Failed to process experience");c(l),p(null),j(!1),g(!1),console.log("Experience processed successfully:",{extractedExperienceCount:l.extracted_experience_count})}catch(e){console.error("Failed to process experience:",e),alert(e?.message||"Failed to process experience")}finally{u(!1)}}async function T(e){if(!k||!t){alert("Missing resume text or job description. Please try again.");return}u(!0);try{let s=await fetch("/api/process-line-selections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resumeText:k,selectedLines:e,jdText:t,tone:r,sessionId:d?.session_id})}),l=await s.json();if(!s.ok)throw Error(l?.message||"Failed to process line selections");c(l),p(null),j(!1),v(!1),console.log("Line selections processed successfully:",l.processing_summary)}catch(e){console.error("Failed to process line selections:",e),alert(e?.message||"Failed to process line selections")}finally{u(!1)}}return C.ok?(0,l.jsxs)("main",{className:"grid gap-6",children:[x&&f&&l.jsx(N,{validation:x,onAction:function(e){switch(e){case"paste_experience":g(!0);break;case"mark_experience":if(!k){alert("Resume text not available. Please try uploading the resume again.");return}v(!0);break;case"upload_new":s(null),c(null),p(null),j(!1);break;case"continue":j(!1);break;default:console.log("Unknown action:",e)}},onDismiss:()=>j(!1),resumeText:k}),(0,l.jsxs)("section",{className:"card p-6",children:[l.jsx("h1",{className:"mb-1",children:"AI Resume Tailor"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Upload your resume and paste a job description to get a tailored version."}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label mb-2",children:"Resume"}),l.jsx(_,{onFile:s}),e&&(0,l.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",e.name]})]}),(0,l.jsxs)("div",{children:[l.jsx("div",{className:"label mb-2",children:"Job Description"}),l.jsx(n,{value:t,onChange:a})]})]}),(0,l.jsxs)("div",{className:"mt-4",children:[l.jsx("div",{className:"label mb-2",children:"Tone"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[l.jsx("button",{className:`button-outline ${"professional"===r?"border-black":""}`,onClick:()=>o("professional"),children:"Professional"}),l.jsx("button",{className:`button-outline ${"concise"===r?"border-black":""}`,onClick:()=>o("concise"),children:"Concise"}),l.jsx("button",{className:`button-outline ${"impact-heavy"===r?"border-black":""}`,onClick:()=>o("impact-heavy"),children:"Impact Heavy"})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{className:"button",onClick:E,disabled:m||!e||!t,children:m?"Tailoring...":"Tailor Resume"})})]}),d&&l.jsx(y,{session:d}),h&&l.jsx(w,{isOpen:h,onClose:()=>g(!1),onSubmit:M}),b&&l.jsx($,{isOpen:b,onClose:()=>v(!1),onSubmit:T,resumeText:k,originalResume:d?.original_sections_json})]}):l.jsx("main",{className:"grid gap-6",children:(0,l.jsxs)("section",{className:"card p-6",children:[l.jsx("h1",{className:"mb-1",children:"Enter Invite Code"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Access is limited during beta. Enter your invite code to continue."}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("input",{className:"input",placeholder:"Invite code",value:C.code,onChange:e=>C.setCode(e.target.value)}),l.jsx("button",{className:"button",onClick:C.submit,children:"Continue"})]})]})})}},14633:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var l=t(10326);function i(){return l.jsx("button",{className:"button-outline text-xs",onClick:function(){"undefined"!=typeof document&&document.documentElement.classList.toggle("dark")},children:"Toggle Dark"})}},43353:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}});let l=t(91174);t(10326),t(17577);let i=l._(t(77028));function a(e,s){var t;let l={loading:e=>{let{error:s,isLoading:t,pastDelay:l}=e;return null}};"function"==typeof e&&(l.loader=e);let a={...l,...s};return(0,i.default)({...a,modules:null==(t=a.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},933:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let l=t(94129);function i(e){let{reason:s,children:t}=e;throw new l.BailoutToCSRError(s)}},77028:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let l=t(10326),i=t(17577),a=t(933),n=t(46618);function r(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},d=function(e){let s={...o,...e},t=(0,i.lazy)(()=>s.loader().then(r)),d=s.loading;function c(e){let r=d?(0,l.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=s.ssr?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.PreloadCss,{moduleIds:s.modules}),(0,l.jsx)(t,{...e})]}):(0,l.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(t,{...e})});return(0,l.jsx)(i.Suspense,{fallback:r,children:o})}return c.displayName="LoadableComponent",c}},46618:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return a}});let l=t(10326),i=t(55403);function a(e){let{moduleIds:s}=e,t=(0,i.getExpectedRequestStore)("next/dynamic css"),a=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));a.push(...s)}}return 0===a.length?null:(0,l.jsx)(l.Fragment,{children:a.map(e=>(0,l.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},37716:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u,metadata:()=>m});var l=t(19510),i=t(85384),a=t.n(i);t(67272);var n=t(68570);let r=(0,n.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/components/ThemeToggle.tsx`),{__esModule:o,$$typeof:d}=r;r.default;let c=(0,n.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/components/ThemeToggle.tsx#default`),m={title:"AI Resume Tailor",description:"Tailor your resume to any job in seconds—ATS-safe and integrity-first."};function u({children:e}){return l.jsx("html",{lang:"en",className:"light",children:l.jsx("body",{className:a().className,children:(0,l.jsxs)("div",{className:"container py-10",children:[(0,l.jsxs)("header",{className:"flex items-center justify-between mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded bg-black"}),l.jsx("span",{className:"font-semibold",children:"AI Resume Tailor"}),(0,l.jsxs)("span",{className:"badge",children:["Integrity: ",l.jsx("strong",{children:"No fabricated credentials"})]}),(0,l.jsxs)("span",{className:"badge",children:["Privacy: ",l.jsx("strong",{children:"Files deleted immediately"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx(c,{}),l.jsx("div",{className:"text-xs text-gray-500",children:"Processed in-memory • Files deleted immediately • Not stored unless you opt in"})]})]}),e,l.jsx("footer",{className:"mt-12 text-xs text-gray-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("span",{children:["\xa9 ",new Date().getFullYear()," Resume Tailor"]}),l.jsx("span",{children:"Privacy: files processed in memory; not persisted by default."})]})})]})})})}},90908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>r});var l=t(68570);let i=(0,l.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx`),{__esModule:a,$$typeof:n}=i;i.default;let r=(0,l.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx#default`)},67272:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),l=s.X(0,[948,126],()=>t(42144));module.exports=l})();