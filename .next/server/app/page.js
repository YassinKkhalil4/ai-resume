(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},42144:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(90908),t(37716),t(35866);var i=t(23191),a=t(88716),l=t(37922),n=t.n(l),r=t(95231),o={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>r[e]);t.d(s,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90908)),"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,37716)),"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx"],m="/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},46318:(e,s,t)=>{Promise.resolve().then(t.bind(t,87774))},93342:(e,s,t)=>{Promise.resolve().then(t.bind(t,14633))},2622:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},87774:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var i=t(10326),a=t(17577),l=t(43353);function n({value:e,onChange:s}){let[t,l]=(0,a.useState)(""),[n,r]=(0,a.useState)(!1);async function o(){if(t){r(!0);try{let e=await fetch("/api/tailor",{method:"POST",body:(()=>{let e=new FormData;return e.append("jd_url",t),e.append("mode","fetchOnly"),e})()}),i=await e.json();e.ok&&i?.jd_text?s(i.jd_text):alert(i?.error||"Could not fetch that URL. Paste text instead.")}catch(e){alert(e?.message||"Failed to fetch URL.")}finally{r(!1)}}}return(0,i.jsxs)("div",{className:"grid gap-2",children:[i.jsx("textarea",{className:"input h-40",placeholder:"Paste the job description here…",value:e,onChange:e=>s(e.target.value)}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("input",{className:"input",placeholder:"…or paste a job URL",value:t,onChange:e=>l(e.target.value)}),i.jsx("button",{className:"button-outline",onClick:o,disabled:n,children:n?"Fetching…":"Fetch URL"})]})]})}function r(e,s){return`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  /* Force safe system fonts to avoid blank glyphs in serverless Chromium */
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#111; font-size: 11.5pt; line-height: 1.35; }
  h2 { font-size: 12.5pt; margin: 0 0 6px; letter-spacing: 0.2px; }
  .sec { margin: 16px 0; }
  .role { font-weight: 600; }
  ul { margin: 4px 0 0 16px; padding: 0; }
  li { margin: 2px 0; }
  .sep { height:1px; background:#eaeaea; margin:10px 0; }
</style></head><body>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Summary</h2><div>${o(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2><div class="sep"></div>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="role">${o(e.role)} — ${o(e.company)} <span style="color:#666; font-weight:400">(${o(e.dates)})</span></div>
        <ul>${e.bullets.map(e=>`<li>${o(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div>${(e.skills||[]).join(" • ")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${o(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`}function o(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function c(e,s){return`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#111; font-size: 12pt; line-height: 1.35; }
  h2 { font-size: 13pt; margin: 0 0 8px; }
  .sec { margin: 14px 0; }
  .row { display:flex; justify-content: space-between; }
  .role { font-weight: 600; }
  ul { margin: 6px 0 0 16px; padding: 0; }
  li { margin: 4px 0; }
  .chips span { display:inline-block; background:#f5f5f5; border-radius: 6px; padding: 2px 8px; margin: 0 6px 6px 0; font-size: 10pt; }
  .divider { height:1px; background:#eee; margin:8px 0; }
</style></head><body>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Summary</h2><div>${d(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2><div class="divider"></div>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="row"><div class="role">${d(e.role)} — ${d(e.company)}</div><div style="color:#666">${d(e.dates)}</div></div>
        <ul>${e.bullets.map(e=>`<li>${d(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div class="chips">${(e.skills||[]).map(e=>`<span>${d(e)}</span>`).join("")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${d(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`}function d(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function m(e,s){return`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#111; font-size: 12pt; line-height: 1.35; }
  h1,h2 { margin: 0 0 6px; }
  h2 { font-size: 13pt; border-bottom: 1px solid #ddd; padding-bottom: 4px; }
  .sec { margin: 14px 0; }
  .role { font-weight: bold; }
  ul { margin: 6px 0 0 16px; padding: 0; }
  li { margin: 4px 0; }
  .chips span { display:inline-block; border:1px solid #ccc; border-radius: 12px; padding: 2px 8px; margin: 0 6px 6px 0; font-size: 10pt; }
</style></head><body>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Summary</h2><div>${u(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="role">${u(e.role)} — ${u(e.company)}</div>
        <div class="dates" style="color:#666">${u(e.dates)}</div>
        <ul>${e.bullets.map(e=>`<li>${u(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div class="chips">${(e.skills||[]).map(e=>`<span>${u(e)}</span>`).join("")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${u(e)}</li>`).join("")}</ul></div>`:""}
  ${e.certifications?.length?`<div class="sec"><h2>Certifications</h2><ul>${(e.certifications||[]).map(e=>`<li>${u(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`}function u(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function x(e,s){var t;let i=`
  body{font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#0b0b0b; font-size:11.5pt; line-height:1.38;}
  .wrap{max-width:820px; margin:0 auto;}
  .hdr{display:grid; grid-template-columns: 2fr 1fr; gap:16px; align-items:flex-end; border-bottom:2px solid #111; padding-bottom:10px; margin-bottom:14px}
  .name{font-size:20pt; font-weight:700; letter-spacing:.2px}
  .contact{font-size:10pt; color:#444; text-align:right}
  h2{font-size:12.8pt; margin:14px 0 6px; letter-spacing:.2px}
  .sec{margin: 6px 0 10px}
  .role{font-weight:600}
  ul{margin:4px 0 0 16px; padding:0}
  li{margin:2px 0}
  .meta{color:#666; font-weight:400}
  `,a=e.contact?.name||"",l=(t=e.contact)?[t.email,t.phone,t.location,t.website].filter(Boolean):[];return`<!doctype html><html><head><meta charset="utf-8" /><style>${i}</style></head><body><div class="wrap">
  <div class="hdr">
    <div class="name">${p(a)}</div>
    <div class="contact">${l.join(" \xb7 ")}</div>
  </div>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Executive Summary</h2><div>${p(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="role">${p(e.role)} — ${p(e.company)} <span class="meta">(${p(e.dates)})</span></div>
        <ul>${e.bullets.map(e=>`<li>${p(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Core Skills</h2><div>${(e.skills||[]).join(" • ")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${p(e)}</li>`).join("")}</ul></div>`:""}
  </div></body></html>`}function p(e){return(e||"").replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function h(e,s){let t=`
  body{font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Helvetica Neue", Helvetica, sans-serif; color:#111; font-size:11.5pt; line-height:1.4}
  .wrap{max-width:820px; margin:0 auto}
  h1{font-size:18pt; margin:0 0 6px; font-weight:700}
  h2{font-size:12.5pt; margin:12px 0 6px}
  .sec{margin: 6px 0 10px}
  ul{margin:4px 0 0 16px; padding:0}
  li{margin:2px 0}
  .meta{color:#666}
  `,i=e.contact||{};return`<!doctype html><html><head><meta charset="utf-8" /><style>${t}</style></head><body><div class="wrap">
    <h1>${v(i.name||"")}</h1>
    ${s.includeSummary&&e.summary?`<div class="sec"><h2>Research Summary</h2><div>${v(e.summary)}</div></div>`:""}
    ${g("Projects",e.projects?.map(e=>`${v(e.name)} — ${e.bullets.map(e=>v(e)).join("; ")}`)||[])}
    ${g("Publications",e.publications||[])}
    ${g("Teaching",e.teaching||[])}
    ${g("Experience",(e.experience||[]).map(e=>`${v(e.role)} — ${v(e.company)} <span class=meta>(${v(e.dates)})</span>`))}
    ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div>${(e.skills||[]).join(" • ")}</div></div>`:""}
    ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${v(e)}</li>`).join("")}</ul></div>`:""}
  </div></body></html>`}function g(e,s){return s&&s.length?`<div class="sec"><h2>${e}</h2><ul>${s.map(e=>`<li>${e}</li>`).join("")}</ul></div>`:""}function v(e){return(e||"").replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function f({diffs:e}){let[s,t]=(0,a.useState)("all"),l=(0,a.useMemo)(()=>["all",...new Set(e.map(e=>e.role))],[e]),n=(0,a.useMemo)(()=>e.filter(e=>"all"===s||e.role===s),[e,s]);return(0,i.jsxs)("div",{className:"border rounded-md p-3 bg-gray-50 text-xs max-h-96 overflow-auto",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"label",children:"Section"}),i.jsx("select",{className:"input w-auto",value:s,onChange:e=>t(e.target.value),children:l.map(e=>i.jsx("option",{value:e,children:e},e))})]}),0===n.length&&i.jsx("div",{className:"text-gray-500",children:"No changes."}),n.map((e,s)=>(0,i.jsxs)("div",{className:"mb-4",children:[i.jsx("div",{className:"font-medium",children:e.role}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label",children:"Original"}),i.jsx("ul",{className:"list-disc pl-4",children:e.original.map((e,s)=>i.jsx("li",{className:"line-through text-gray-500",children:e},s))})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label",children:"Tailored"}),i.jsx("ul",{className:"list-disc pl-4",children:e.tailored.map((s,t)=>i.jsx("li",{className:"text-green-700 underline decoration-green-400",title:(e.reasons||[]).join(" • "),children:s},t))})]})]})]},s))]})}function b({stats:e}){let s=Math.round(100*(e?.coverage||0)),t=Math.round(100*(e?.mustCoverage||0)),a=Math.round(100*(e?.niceCoverage||0)),l=Math.round(100*(e?.semanticCoverage||0));return(0,i.jsxs)("div",{className:"border rounded-md p-3 bg-white",children:[i.jsx("div",{className:"font-medium mb-1",children:"ATS Check"}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Keyword coverage and sanity checks."}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:i.jsx("div",{className:"h-2 rounded",style:{width:s+"%",background:s>=80?"#10B981":s>=60?"#F59E0B":"#EF4444"}})}),(0,i.jsxs)("div",{className:"text-sm",children:[s,"% overall"]})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Must-haves"}),(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:i.jsx("div",{className:"h-2 rounded",style:{width:t+"%",background:t>=80?"#10B981":t>=60?"#F59E0B":"#EF4444"}})}),(0,i.jsxs)("div",{className:"text-sm",children:[t,"%"]})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Nice-to-haves"}),(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:i.jsx("div",{className:"h-2 rounded",style:{width:a+"%",background:a>=80?"#10B981":a>=60?"#F59E0B":"#EF4444"}})}),(0,i.jsxs)("div",{className:"text-sm",children:[a,"%"]})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Semantic coverage"}),(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:i.jsx("div",{className:"h-2 rounded",style:{width:l+"%",background:l>=80?"#10B981":l>=60?"#F59E0B":"#EF4444"}})}),(0,i.jsxs)("div",{className:"text-sm",children:[l,"%"]})]}),(0,i.jsxs)("div",{className:"text-xs mb-2",children:[i.jsx("strong",{children:"Top missing:"})," ",(e?.topMissing||[]).slice(0,5).join(", ")||"—"]}),Array.isArray(e?.gaps)&&e.gaps.length>0&&(0,i.jsxs)("div",{className:"text-xs mt-2",children:[i.jsx("div",{className:"label mb-1",children:"Gap map (nearest support)"}),i.jsx("ul",{className:"list-disc ml-4",children:e.gaps.slice(0,5).map((e,s)=>(0,i.jsxs)("li",{children:[i.jsx("strong",{children:e.requirement}),' → match "',e.nearestBullet,'" (score ',Math.round(100*(e.score||0))/100,")"]},s))})]}),(0,i.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label",children:"Matched"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:(e?.matched||[]).slice(0,20).map((e,s)=>i.jsx("span",{className:"badge border-green-300",children:e},s))})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label",children:"Missing (relevant)"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:(e?.missing||[]).slice(0,20).map((e,s)=>i.jsx("span",{className:"badge border-red-300",children:e},s))})]})]}),e?.warnings?.length>0&&i.jsx("div",{className:"mt-3 text-xs text-red-600",children:e.warnings.map((e,s)=>(0,i.jsxs)("div",{children:["⚠️ ",e]},s))})]})}function j({sessionId:e,onClose:s}){let[t,l]=(0,a.useState)("minimal"),[n,r]=(0,a.useState)("pdf"),[o,c]=(0,a.useState)(!0),[d,m]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null);async function g(){x(!0);try{var s;let i=await fetch("/api/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,template:t,format:n,options:{includeSkills:o,includeSummary:d},session_snapshot:null})});if(!i.ok){let e=null;try{e=await i.json()}catch{}throw Error(e?.message||`Export HTTP ${i.status}`)}let a=i.headers.get("content-type")||"",l=/^application\/pdf/i.test(a),r=/^application\/vnd\.openxmlformats/i.test(a);if(!l&&!r){let e=await i.text();throw Error(`Malformed export response: ${e.slice(0,300)}`)}s=await i.blob(),h(URL.createObjectURL(s))}catch(e){alert(e?.message||"Failed to export.")}finally{x(!1)}}return i.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"card p-6 w-[560px] max-w-full",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"font-semibold",children:"Export"}),i.jsx("button",{className:"button-outline",onClick:s,children:"Close"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label mb-1",children:"Template"}),(0,i.jsxs)("select",{className:"input",value:t,onChange:e=>l(e.target.value),children:[i.jsx("option",{value:"classic",children:"Classic"}),i.jsx("option",{value:"modern",children:"Modern"}),i.jsx("option",{value:"minimal",children:"Minimal"}),i.jsx("option",{value:"executive",children:"Executive"}),i.jsx("option",{value:"academic",children:"Academic/Projects"})]})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label mb-1",children:"Format"}),(0,i.jsxs)("select",{className:"input",value:n,onChange:e=>r(e.target.value),children:[i.jsx("option",{value:"pdf",children:"PDF"}),i.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),(0,i.jsxs)("div",{className:"mt-3 flex items-center gap-4",children:[(0,i.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:d,onChange:e=>m(e.target.checked)}),"Include Summary"]}),(0,i.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:o,onChange:e=>c(e.target.checked)}),"Include Skills"]})]}),(0,i.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[i.jsx("button",{className:"button",onClick:g,disabled:u,children:u?"Exporting…":"Export"}),p&&i.jsx("a",{className:"button-outline",href:p,target:"_blank",rel:"noreferrer",children:"Download"})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-3",children:"DOCX exports instantly. PDF may take a few seconds. All exports are text-selectable and ATS-safe."})]})})}function y({session:e}){let[s,t]=(0,a.useState)(!1),[l,n]=(0,a.useState)("tailored"),[o,d]=(0,a.useState)("minimal"),[u,p]=(0,a.useState)(null),[g,v]=(0,a.useState)(!1),[y,N]=(0,a.useState)([]),w=(0,a.useMemo)(()=>e.preview_sections_json?S(e.preview_sections_json,o):"<p>No tailored content available</p>",[e,o]),k=(0,a.useMemo)(()=>e.original_sections_json?S(e.original_sections_json,o):"<p>No original content available</p>",[e,o]);function S(e,s){let t={includeSkills:!0,includeSummary:!0};return"classic"===s?m(e,t):"modern"===s?c(e,t):"executive"===s?x(e,t):"academic"===s?h(e,t):r(e,t)}async function $(){v(!0);try{let s=await fetch("/api/honesty",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e.session_id,session_version:e.version,original_payload:e.original_sections_json,tailored_payload:e.preview_sections_json})}),t=await s.json();if(!s.ok){if("stale_session"===t.code){alert("Session data is outdated. Please refresh the page and try again.");return}throw Error(t?.message||"Honesty scan failed")}p(t)}catch(e){alert(e?.message||"Honesty scan failed")}finally{v(!1)}}return(0,i.jsxs)("section",{className:"card p-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("h2",{children:"Preview"}),(0,i.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[i.jsx("button",{className:`button-outline ${"tailored"===l?"border-black":""}`,onClick:()=>n("tailored"),children:"Tailored"}),i.jsx("button",{className:`button-outline ${"original"===l?"border-black":""}`,onClick:()=>n("original"),children:"Original"}),i.jsx("button",{className:"button-outline",onClick:$,disabled:g,children:g?"Scanning...":"Honesty scan"}),i.jsx("button",{className:"button",onClick:()=>t(!0),children:"Export"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("div",{className:"label",children:"Template"}),(0,i.jsxs)("select",{className:"input w-auto",value:o,onChange:e=>d(e.target.value),children:[i.jsx("option",{value:"classic",children:"Classic"}),i.jsx("option",{value:"modern",children:"Modern"}),i.jsx("option",{value:"minimal",children:"Minimal"}),i.jsx("option",{value:"executive",children:"Executive"}),i.jsx("option",{value:"academic",children:"Academic/Projects"})]})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"label mb-2",children:["Resume Preview (",l,")"]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded overflow-auto text-xs h-96 border",dangerouslySetInnerHTML:{__html:"tailored"===l?w:k}})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label mb-2",children:"Changes"}),i.jsx(f,{diffs:y}),i.jsx("div",{className:"mt-4",children:i.jsx(b,{stats:e.keyword_stats})}),(0,i.jsxs)("div",{className:"mt-4",children:[i.jsx("div",{className:"label mb-2",children:"Visual preview"}),i.jsx("iframe",{className:"w-full h-96 bg-white border rounded",srcDoc:function(){let s=e.preview_sections_json,t={includeSkills:!0,includeSummary:!0};return"classic"===o?m(s,t):"modern"===o?c(s,t):"executive"===o?x(s,t):"academic"===o?h(s,t):r(s,t)}()})]})]})]}),u&&(0,i.jsxs)("div",{className:"mt-4 border rounded-md p-3 bg-white",children:[i.jsx("div",{className:"font-medium mb-1",children:"Honesty scan"}),u.flags?.length?u.flags.map((e,s)=>(0,i.jsxs)("div",{className:"mb-2 text-xs",children:[(0,i.jsxs)("div",{children:["⚠️ ",i.jsx("strong",{children:e.role}),": ",e.bullet]}),(0,i.jsxs)("div",{className:"text-gray-600",children:["Backed by: ",(e.backing||[]).join(" | ")||"No close match in original."]})]},s)):i.jsx("div",{className:"text-xs text-green-700",children:"All rewritten bullets appear supported by the original."})]}),s&&i.jsx(j,{sessionId:e.session_id,onClose:()=>t(!1)})]})}function N({validation:e,onAction:s,onDismiss:t}){let[l,n]=(0,a.useState)(!1),r=e.hasExperience?e.experienceCount>0&&e.experienceCount<2?{type:"warning",title:"Limited Experience Found",message:`Only ${e.experienceCount} work experience found. More experience will improve tailoring results.`,actions:[{label:"Add More Experience",action:"add_experience"},{label:"Continue Anyway",action:"continue"}]}:e.hasSkills?{type:"success",title:"Resume Parsed Successfully",message:"Your resume has been parsed and is ready for tailoring.",actions:[{label:"Continue to Tailoring",action:"continue"}]}:{type:"warning",title:"Skills Section Missing",message:"No skills section detected. Adding skills will improve ATS compatibility.",actions:[{label:"Add Skills",action:"add_skills"},{label:"Continue Without Skills",action:"continue"}]}:{type:"error",title:"Experience Not Found",message:"We couldn't find any work experience in your resume. This is required for tailoring.",actions:[{label:"Paste Work History",action:"paste_experience"},{label:"Mark Lines as Experience",action:"mark_experience"},{label:"Try Different Resume",action:"upload_new"}]};if("success"===r.type)return null;let o="error"===r.type;return i.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${o?"bg-red-50 border-b border-red-200":"bg-yellow-50 border-b border-yellow-200"}`,children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`flex-shrink-0 ${o?"text-red-400":"text-yellow-400"}`,children:o?i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,i.jsxs)("div",{children:[i.jsx("h3",{className:`text-sm font-medium ${o?"text-red-800":"text-yellow-800"}`,children:r.title}),i.jsx("p",{className:`text-sm ${o?"text-red-700":"text-yellow-700"}`,children:r.message})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[e.suggestions.length>0&&(0,i.jsxs)("button",{onClick:()=>n(!l),className:`text-sm font-medium ${o?"text-red-600 hover:text-red-500":"text-yellow-600 hover:text-yellow-500"}`,children:[l?"Hide":"Show"," Suggestions"]}),t&&!o&&i.jsx("button",{onClick:t,className:"text-yellow-600 hover:text-yellow-500",children:i.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),l&&e.suggestions.length>0&&i.jsx("div",{className:"mt-3 pl-8",children:i.jsx("ul",{className:"list-disc list-inside space-y-1",children:e.suggestions.map((e,s)=>i.jsx("li",{className:`text-sm ${o?"text-red-700":"text-yellow-700"}`,children:e},s))})}),i.jsx("div",{className:"mt-3 pl-8",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:r.actions.map((e,t)=>i.jsx("button",{onClick:()=>s(e.action),className:`px-3 py-1 text-sm font-medium rounded-md ${o?"bg-red-100 text-red-800 hover:bg-red-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:e.label},t))})})]})})}function w({isOpen:e,onClose:s,onSubmit:t,originalText:l}){let[n,r]=(0,a.useState)(l||""),[o,c]=(0,a.useState)(!1);if(!e)return null;let d=async()=>{if(n.trim()){c(!0);try{await t(n.trim()),s()}catch(e){console.error("Failed to submit experience:",e)}finally{c(!1)}}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Add Work Experience"}),i.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Paste your work experience below. Include job titles, companies, dates, and bullet points describing your responsibilities and achievements."}),i.jsx("textarea",{value:n,onChange:e=>r(e.target.value),placeholder:"Example: Software Engineer at Google (2020-2023) • Developed scalable web applications using React and Node.js • Led a team of 5 engineers to deliver features on time • Improved application performance by 40%  Senior Developer at Microsoft (2018-2020) • Built microservices architecture for enterprise clients • Mentored junior developers and conducted code reviews • Reduced system downtime by 60%",className:"w-full h-64 p-3 border border-gray-300 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",disabled:o,children:"Cancel"}),i.jsx("button",{onClick:d,disabled:!n.trim()||o,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Processing...":"Add Experience"})]})]})})}let k=t.n(l)()(async()=>{},{loadableGenerated:{modules:["app/page.tsx -> ../components/FileDrop"]},ssr:!1});function S(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(""),[r,o]=(0,a.useState)("professional"),[c,d]=(0,a.useState)(null),[m,u]=(0,a.useState)(!1),[x,p]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1),[v,f]=(0,a.useState)(!0),b=function(){let[e,s]=(0,a.useState)(!1),[t,i]=(0,a.useState)("");return{ok:e,code:t,setCode:i,submit:function(){t&&(document.cookie=`invite=${encodeURIComponent(t)}; path=/; max-age=2592000`,s(!0))}}}();async function j(){if(!e)return alert("Upload a resume and paste a job description.");if(!t)return alert("Paste a job description.");u(!0);try{let s=new FormData;s.append("resume_file",e),s.append("jd_text",t),s.append("tone",r);let i=await fetch("/api/tailor",{method:"POST",body:s}),a=await i.json();if(!i.ok){if("missing_experience"===a.code){p(a.validation),f(!0),u(!1);return}throw Error(a?.message||"Tailoring failed.")}d(a),p(a.validation),f(!1)}catch(e){alert(e?.message||"Failed to tailor.")}finally{u(!1)}}async function S(e){console.log("Experience submitted:",e),g(!1)}return b.ok?(0,i.jsxs)("main",{className:"grid gap-6",children:[x&&v&&i.jsx(N,{validation:x,onAction:function(e){switch(e){case"paste_experience":g(!0);break;case"mark_experience":alert("Line marking functionality coming soon!");break;case"upload_new":s(null),d(null),p(null),f(!1);break;case"continue":f(!1);break;default:console.log("Unknown action:",e)}},onDismiss:()=>f(!1)}),(0,i.jsxs)("section",{className:"card p-6",children:[i.jsx("h1",{className:"mb-1",children:"AI Resume Tailor"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Upload your resume and paste a job description to get a tailored version."}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label mb-2",children:"Resume"}),i.jsx(k,{onFileSelect:s}),e&&(0,i.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",e.name]})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"label mb-2",children:"Job Description"}),i.jsx(n,{value:t,onChange:l})]})]}),(0,i.jsxs)("div",{className:"mt-4",children:[i.jsx("div",{className:"label mb-2",children:"Tone"}),(0,i.jsxs)("div",{className:"flex gap-2",children:[i.jsx("button",{className:`button-outline ${"professional"===r?"border-black":""}`,onClick:()=>o("professional"),children:"Professional"}),i.jsx("button",{className:`button-outline ${"concise"===r?"border-black":""}`,onClick:()=>o("concise"),children:"Concise"}),i.jsx("button",{className:`button-outline ${"impact-heavy"===r?"border-black":""}`,onClick:()=>o("impact-heavy"),children:"Impact Heavy"})]})]}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{className:"button",onClick:j,disabled:m||!e||!t,children:m?"Tailoring...":"Tailor Resume"})})]}),c&&i.jsx(y,{session:c}),h&&i.jsx(w,{isOpen:h,onClose:()=>g(!1),onSubmit:S})]}):i.jsx("main",{className:"grid gap-6",children:(0,i.jsxs)("section",{className:"card p-6",children:[i.jsx("h1",{className:"mb-1",children:"Enter Invite Code"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Access is limited during beta. Enter your invite code to continue."}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("input",{className:"input",placeholder:"Invite code",value:b.code,onChange:e=>b.setCode(e.target.value)}),i.jsx("button",{className:"button",onClick:b.submit,children:"Continue"})]}),b.error&&i.jsx("p",{className:"text-red-600 text-sm mt-2",children:b.error})]})})}},14633:(e,s,t)=>{"use strict";t.d(s,{default:()=>a});var i=t(10326);function a(){return i.jsx("button",{className:"button-outline text-xs",onClick:function(){"undefined"!=typeof document&&document.documentElement.classList.toggle("dark")},children:"Toggle Dark"})}},43353:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return l}});let i=t(91174);t(10326),t(17577);let a=i._(t(77028));function l(e,s){var t;let i={loading:e=>{let{error:s,isLoading:t,pastDelay:i}=e;return null}};"function"==typeof e&&(i.loader=e);let l={...i,...s};return(0,a.default)({...l,modules:null==(t=l.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},933:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let i=t(94129);function a(e){let{reason:s,children:t}=e;throw new i.BailoutToCSRError(s)}},77028:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return c}});let i=t(10326),a=t(17577),l=t(933),n=t(46618);function r(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},c=function(e){let s={...o,...e},t=(0,a.lazy)(()=>s.loader().then(r)),c=s.loading;function d(e){let r=c?(0,i.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=s.ssr?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.PreloadCss,{moduleIds:s.modules}),(0,i.jsx)(t,{...e})]}):(0,i.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,i.jsx)(t,{...e})});return(0,i.jsx)(a.Suspense,{fallback:r,children:o})}return d.displayName="LoadableComponent",d}},46618:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return l}});let i=t(10326),a=t(55403);function l(e){let{moduleIds:s}=e,t=(0,a.getExpectedRequestStore)("next/dynamic css"),l=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));l.push(...s)}}return 0===l.length?null:(0,i.jsx)(i.Fragment,{children:l.map(e=>(0,i.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},37716:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u,metadata:()=>m});var i=t(19510),a=t(85384),l=t.n(a);t(67272);var n=t(68570);let r=(0,n.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/components/ThemeToggle.tsx`),{__esModule:o,$$typeof:c}=r;r.default;let d=(0,n.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/components/ThemeToggle.tsx#default`),m={title:"AI Resume Tailor",description:"Tailor your resume to any job in seconds—ATS-safe and integrity-first."};function u({children:e}){return i.jsx("html",{lang:"en",className:"light",children:i.jsx("body",{className:l().className,children:(0,i.jsxs)("div",{className:"container py-10",children:[(0,i.jsxs)("header",{className:"flex items-center justify-between mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded bg-black"}),i.jsx("span",{className:"font-semibold",children:"AI Resume Tailor"}),(0,i.jsxs)("span",{className:"badge",children:["Integrity: ",i.jsx("strong",{children:"No fabricated credentials"})]}),(0,i.jsxs)("span",{className:"badge",children:["Privacy: ",i.jsx("strong",{children:"Files deleted immediately"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx(d,{}),i.jsx("div",{className:"text-xs text-gray-500",children:"Processed in-memory • Files deleted immediately • Not stored unless you opt in"})]})]}),e,i.jsx("footer",{className:"mt-12 text-xs text-gray-500",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("span",{children:["\xa9 ",new Date().getFullYear()," Resume Tailor"]}),i.jsx("span",{children:"Privacy: files processed in memory; not persisted by default."})]})})]})})})}},90908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>r});var i=t(68570);let a=(0,i.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let r=(0,i.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx#default`)},67272:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),i=s.X(0,[948,126],()=>t(42144));module.exports=i})();