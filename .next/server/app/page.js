(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},42144:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),t(90908),t(11506),t(35866);var a=t(23191),l=t(88716),n=t(37922),i=t.n(n),r=t(95231),d={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>r[e]);t.d(s,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90908)),"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx"],u="/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},46318:(e,s,t)=>{Promise.resolve().then(t.bind(t,99494))},2622:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},14068:()=>{},99494:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(10326),l=t(17577),n=t(43353);function i({value:e,onChange:s}){let[t,n]=(0,l.useState)(""),[i,r]=(0,l.useState)(!1);async function d(){if(t){r(!0);try{let e=await fetch("/api/tailor",{method:"POST",body:(()=>{let e=new FormData;return e.append("jd_url",t),e.append("mode","fetchOnly"),e})()}),a=await e.json();e.ok&&a?.jd_text?s(a.jd_text):alert(a?.error||"Could not fetch that URL. Paste text instead.")}catch(e){alert(e?.message||"Failed to fetch URL.")}finally{r(!1)}}}return(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx("textarea",{className:"input h-40",placeholder:"Paste the job description here…",value:e,onChange:e=>s(e.target.value)}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"input",placeholder:"…or paste a job URL",value:t,onChange:e=>n(e.target.value)}),a.jsx("button",{className:"button-outline",onClick:d,disabled:i,children:i?"Fetching…":"Fetch URL"})]})]})}function r({diffs:e}){let[s,t]=(0,l.useState)("all"),n=(0,l.useMemo)(()=>["all",...new Set(e.map(e=>e.role))],[e]),i=(0,l.useMemo)(()=>e.filter(e=>"all"===s||e.role===s),[e,s]);return(0,a.jsxs)("div",{className:"border rounded-md p-3 bg-gray-50 text-xs max-h-96 overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"label",children:"Section"}),a.jsx("select",{className:"input w-auto",value:s,onChange:e=>t(e.target.value),children:n.map(e=>a.jsx("option",{value:e,children:e},e))})]}),0===i.length&&a.jsx("div",{className:"text-gray-500",children:"No changes."}),i.map((e,s)=>(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("div",{className:"font-medium",children:e.role}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label",children:"Original"}),a.jsx("ul",{className:"list-disc pl-4",children:e.original.map((e,s)=>a.jsx("li",{className:"line-through text-gray-500",children:e},s))})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label",children:"Tailored"}),a.jsx("ul",{className:"list-disc pl-4",children:e.tailored.map((s,t)=>a.jsx("li",{className:"text-green-700 underline decoration-green-400",title:(e.reasons||[]).join(" • "),children:s},t))})]})]})]},s))]})}function d({stats:e}){let s=Math.round(100*(e?.coverage||0)),t=Math.round(100*(e?.mustCoverage||0)),l=Math.round(100*(e?.niceCoverage||0));return(0,a.jsxs)("div",{className:"border rounded-md p-3 bg-white",children:[a.jsx("div",{className:"font-medium mb-1",children:"ATS Check"}),a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Keyword coverage and sanity checks."}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:a.jsx("div",{className:"h-2 rounded",style:{width:s+"%",background:s>=80?"#10B981":s>=60?"#F59E0B":"#EF4444"}})}),(0,a.jsxs)("div",{className:"text-sm",children:[s,"% overall"]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Must-haves"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:a.jsx("div",{className:"h-2 rounded",style:{width:t+"%",background:t>=80?"#10B981":t>=60?"#F59E0B":"#EF4444"}})}),(0,a.jsxs)("div",{className:"text-sm",children:[t,"%"]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Nice-to-haves"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:a.jsx("div",{className:"h-2 rounded",style:{width:l+"%",background:l>=80?"#10B981":l>=60?"#F59E0B":"#EF4444"}})}),(0,a.jsxs)("div",{className:"text-sm",children:[l,"%"]})]}),(0,a.jsxs)("div",{className:"text-xs mb-2",children:[a.jsx("strong",{children:"Top missing:"})," ",(e?.topMissing||[]).slice(0,5).join(", ")||"—"]}),(0,a.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label",children:"Matched"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:(e?.matched||[]).slice(0,20).map((e,s)=>a.jsx("span",{className:"badge border-green-300",children:e},s))})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label",children:"Missing (relevant)"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:(e?.missing||[]).slice(0,20).map((e,s)=>a.jsx("span",{className:"badge border-red-300",children:e},s))})]})]}),e?.warnings?.length>0&&a.jsx("div",{className:"mt-3 text-xs text-red-600",children:e.warnings.map((e,s)=>(0,a.jsxs)("div",{children:["⚠️ ",e]},s))})]})}function o({sessionId:e,onClose:s}){let[t,n]=(0,l.useState)("minimal"),[i,r]=(0,l.useState)("pdf"),[d,o]=(0,l.useState)(!0),[c,u]=(0,l.useState)(!0),[m,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null);async function j(){x(!0);try{let s=await fetch("/api/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,template:t,format:i,options:{includeSkills:d,includeSummary:c}})}),a=await s.text(),l=null;try{l=a?JSON.parse(a):null}catch{l=null}if(!s.ok){let e=l&&(l.error||l.message)||a||`Export failed (${s.status})`;throw Error("string"==typeof e?e:"Export failed")}if(!l||!l.download_url)throw Error("Malformed response from export API");p(l.download_url)}catch(e){alert(e?.message||"Failed to export.")}finally{x(!1)}}return a.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"card p-6 w-[560px] max-w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"font-semibold",children:"Export"}),a.jsx("button",{className:"button-outline",onClick:s,children:"Close"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"Template"}),(0,a.jsxs)("select",{className:"input",value:t,onChange:e=>n(e.target.value),children:[a.jsx("option",{value:"classic",children:"Classic"}),a.jsx("option",{value:"modern",children:"Modern"}),a.jsx("option",{value:"minimal",children:"Minimal"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"Format"}),(0,a.jsxs)("select",{className:"input",value:i,onChange:e=>r(e.target.value),children:[a.jsx("option",{value:"pdf",children:"PDF"}),a.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:c,onChange:e=>u(e.target.checked)}),"Include Summary"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:e=>o(e.target.checked)}),"Include Skills"]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx("button",{className:"button",onClick:j,disabled:m,children:m?"Exporting…":"Export"}),h&&a.jsx("a",{className:"button-outline",href:h,target:"_blank",rel:"noreferrer",children:"Download"})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-3",children:"DOCX exports instantly. PDF may take a few seconds. All exports are text-selectable and ATS-safe."})]})})}function c({session:e}){let[s,t]=(0,l.useState)(!1),[n,i]=(0,l.useState)("tailored"),[c,u]=(0,l.useState)(null),[m,x]=(0,l.useState)(!1),h=(0,l.useMemo)(()=>JSON.stringify(e.preview_sections_json,null,2),[e]),p=(0,l.useMemo)(()=>JSON.stringify(e.original_sections_json,null,2),[e]);return(0,a.jsxs)("section",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("h2",{children:"Preview"}),(0,a.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[a.jsx("button",{className:`button-outline ${"tailored"===n?"border-black":""}`,onClick:()=>i("tailored"),children:"Tailored"}),a.jsx("button",{className:`button-outline ${"original"===n?"border-black":""}`,onClick:()=>i("original"),children:"Original"}),a.jsx("button",{className:"button-outline",onClick:async()=>{x(!0);try{let s=await fetch("/api/honesty",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e.session_id})}),t=await s.json();if(!s.ok)throw Error(t?.error||"Honesty scan failed");u(t)}catch(e){alert(e?.message||"Honesty scan failed")}finally{x(!1)}},children:"Honesty scan"}),a.jsx("button",{className:"button",onClick:()=>t(!0),children:"Export"})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"label mb-2",children:["JSON structure (",n,")"]}),a.jsx("pre",{className:"bg-gray-50 p-3 rounded overflow-auto text-xs h-96",children:"tailored"===n?h:p})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-2",children:"Changes"}),a.jsx(r,{diffs:e.diffs||[]}),a.jsx("div",{className:"mt-4",children:a.jsx(d,{stats:e.keyword_stats})})]})]}),c&&(0,a.jsxs)("div",{className:"mt-4 border rounded-md p-3 bg-white",children:[a.jsx("div",{className:"font-medium mb-1",children:"Honesty scan"}),c.flags?.length?c.flags.map((e,s)=>(0,a.jsxs)("div",{className:"mb-2 text-xs",children:[(0,a.jsxs)("div",{children:["⚠️ ",a.jsx("strong",{children:e.role}),": ",e.bullet]}),(0,a.jsxs)("div",{className:"text-gray-600",children:["Backed by: ",(e.backing||[]).join(" | ")||"No close match in original."]})]},s)):a.jsx("div",{className:"text-xs text-green-700",children:"All rewritten bullets appear supported by the original."})]}),s&&a.jsx(o,{sessionId:e.session_id,onClose:()=>t(!1)})]})}let u=t.n(n)()(async()=>{},{loadableGenerated:{modules:["app/page.tsx -> ../components/FileDrop"]},ssr:!1});function m(){let[e,s]=(0,l.useState)(null),[t,n]=(0,l.useState)(""),[r,d]=(0,l.useState)("professional"),[o,m]=(0,l.useState)(null),[x,h]=(0,l.useState)(!1),p=function(){let[e,s]=(0,l.useState)(!1),[t,a]=(0,l.useState)("");return{ok:e,code:t,setCode:a,submit:function(){t&&(document.cookie=`invite=${encodeURIComponent(t)}; path=/; max-age=2592000`,s(!0))}}}();async function j(){if(!e||!t)return alert("Upload a resume and paste a job description.");h(!0);try{let s=new FormData;s.append("resume_file",e),s.append("jd_text",t),s.append("tone",r);let a=await fetch("/api/tailor",{method:"POST",body:s}),l=await a.json();if(!a.ok)throw Error(l?.error||"Tailoring failed.");m(l)}catch(e){alert(e?.message||"Failed to tailor.")}finally{h(!1)}}return p.ok?(0,a.jsxs)("main",{className:"grid gap-6",children:[(0,a.jsxs)("section",{className:"card p-6",children:[a.jsx("h1",{className:"mb-1",children:"Tailor your resume to any job"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Upload resume → paste job → click Tailor. Bullets rewritten with integrity guardrails. Export ATS-safe PDF/DOCX."}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"1) Upload Resume (PDF, DOCX, or TXT)"}),a.jsx(u,{onFile:s})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"2) Paste Job Listing (URL or plain text)"}),a.jsx(i,{value:t,onChange:n})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx("label",{className:"label",children:"Tone"}),(0,a.jsxs)("select",{className:"input w-auto",value:r,onChange:e=>d(e.target.value),children:[a.jsx("option",{value:"professional",children:"Professional"}),a.jsx("option",{value:"concise",children:"Concise"}),a.jsx("option",{value:"impact-heavy",children:"Impact-heavy"})]}),a.jsx("button",{className:"button ml-auto",onClick:j,disabled:x,children:x?"Tailoring…":"Tailor"})]})]}),o&&a.jsx(c,{session:o})]}):a.jsx("main",{className:"grid gap-6",children:(0,a.jsxs)("section",{className:"card p-6",children:[a.jsx("h1",{className:"mb-1",children:"Enter Invite Code"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Access is limited during beta. Enter your invite code to continue."}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"input",placeholder:"Invite code",value:p.code,onChange:e=>p.setCode(e.target.value)}),a.jsx("button",{className:"button",onClick:p.submit,children:"Continue"})]})]})})}},43353:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return n}});let a=t(91174);t(10326),t(17577);let l=a._(t(77028));function n(e,s){var t;let a={loading:e=>{let{error:s,isLoading:t,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let n={...a,...s};return(0,l.default)({...n,modules:null==(t=n.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},933:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let a=t(94129);function l(e){let{reason:s,children:t}=e;throw new a.BailoutToCSRError(s)}},77028:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return o}});let a=t(10326),l=t(17577),n=t(933),i=t(46618);function r(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},o=function(e){let s={...d,...e},t=(0,l.lazy)(()=>s.loader().then(r)),o=s.loading;function c(e){let r=o?(0,a.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=s.ssr?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.PreloadCss,{moduleIds:s.modules}),(0,a.jsx)(t,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(t,{...e})});return(0,a.jsx)(l.Suspense,{fallback:r,children:d})}return c.displayName="LoadableComponent",c}},46618:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return n}});let a=t(10326),l=t(55403);function n(e){let{moduleIds:s}=e,t=(0,l.getExpectedRequestStore)("next/dynamic css"),n=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));n.push(...s)}}return 0===n.length?null:(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},11506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r,metadata:()=>i});var a=t(19510),l=t(85384),n=t.n(l);t(67272);let i={title:"AI Resume Tailor",description:"Tailor your resume to any job in seconds—ATS-safe and integrity-first."};function r({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:(0,a.jsxs)("div",{className:"container py-10",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded bg-black"}),a.jsx("span",{className:"font-semibold",children:"AI Resume Tailor"}),(0,a.jsxs)("span",{className:"badge",children:["Integrity: ",a.jsx("strong",{children:"No fabricated credentials"})]}),(0,a.jsxs)("span",{className:"badge",children:["Privacy: ",a.jsx("strong",{children:"Files deleted immediately"})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Processed in-memory • Files deleted immediately • Not stored unless you opt in"})]}),e,a.jsx("footer",{className:"mt-12 text-xs text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{children:["\xa9 ",new Date().getFullYear()," Resume Tailor"]}),a.jsx("span",{children:"Privacy: files processed in memory; not persisted by default."})]})})]})})})}},90908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>n,default:()=>r});var a=t(68570);let l=(0,a.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx`),{__esModule:n,$$typeof:i}=l;l.default;let r=(0,a.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx#default`)},67272:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,892],()=>t(42144));module.exports=a})();