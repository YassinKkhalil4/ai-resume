(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},42144:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),t(90908),t(37716),t(35866);var a=t(23191),i=t(88716),l=t(37922),n=t.n(l),r=t(95231),d={};for(let e in r)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>r[e]);t.d(s,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90908)),"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,37716)),"/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx"],u="/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},46318:(e,s,t)=>{Promise.resolve().then(t.bind(t,48602))},93342:(e,s,t)=>{Promise.resolve().then(t.bind(t,14633))},2622:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},48602:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(10326),i=t(17577),l=t(43353),n=t.n(l);function r({value:e,onChange:s}){let[t,l]=(0,i.useState)(""),[n,r]=(0,i.useState)(!1);async function d(){if(t){r(!0);try{let e=await fetch("/api/tailor",{method:"POST",body:(()=>{let e=new FormData;return e.append("jd_url",t),e.append("mode","fetchOnly"),e})()}),a=await e.json();e.ok&&a?.jd_text?s(a.jd_text):alert(a?.error||"Could not fetch that URL. Paste text instead.")}catch(e){alert(e?.message||"Failed to fetch URL.")}finally{r(!1)}}}return(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx("textarea",{className:"input h-40",placeholder:"Paste the job description here…",value:e,onChange:e=>s(e.target.value)}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"input",placeholder:"…or paste a job URL",value:t,onChange:e=>l(e.target.value)}),a.jsx("button",{className:"button-outline",onClick:d,disabled:n,children:n?"Fetching…":"Fetch URL"})]})]})}function d(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function o(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function c(e){return e.replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function u(e){return(e||"").replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function m(e,s){return s&&s.length?`<div class="sec"><h2>${e}</h2><ul>${s.map(e=>`<li>${e}</li>`).join("")}</ul></div>`:""}function p(e){return(e||"").replace(/[&<>]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;"})[e])}function h({diffs:e}){let[s,t]=(0,i.useState)("all"),l=(0,i.useMemo)(()=>["all",...new Set(e.map(e=>e.role))],[e]),n=(0,i.useMemo)(()=>e.filter(e=>"all"===s||e.role===s),[e,s]);return(0,a.jsxs)("div",{className:"border rounded-md p-3 bg-gray-50 text-xs max-h-96 overflow-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"label",children:"Section"}),a.jsx("select",{className:"input w-auto",value:s,onChange:e=>t(e.target.value),children:l.map(e=>a.jsx("option",{value:e,children:e},e))})]}),0===n.length&&a.jsx("div",{className:"text-gray-500",children:"No changes."}),n.map((e,s)=>(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("div",{className:"font-medium",children:e.role}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label",children:"Original"}),a.jsx("ul",{className:"list-disc pl-4",children:e.original.map((e,s)=>a.jsx("li",{className:"line-through text-gray-500",children:e},s))})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label",children:"Tailored"}),a.jsx("ul",{className:"list-disc pl-4",children:e.tailored.map((s,t)=>a.jsx("li",{className:"text-green-700 underline decoration-green-400",title:(e.reasons||[]).join(" • "),children:s},t))})]})]})]},s))]})}function x({stats:e}){let s=Math.round(100*(e?.coverage||0)),t=Math.round(100*(e?.mustCoverage||0)),i=Math.round(100*(e?.niceCoverage||0)),l=Math.round(100*(e?.semanticCoverage||0));return(0,a.jsxs)("div",{className:"border rounded-md p-3 bg-white",children:[a.jsx("div",{className:"font-medium mb-1",children:"ATS Check"}),a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Keyword coverage and sanity checks."}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:a.jsx("div",{className:"h-2 rounded",style:{width:s+"%",background:s>=80?"#10B981":s>=60?"#F59E0B":"#EF4444"}})}),(0,a.jsxs)("div",{className:"text-sm",children:[s,"% overall"]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Must-haves"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:a.jsx("div",{className:"h-2 rounded",style:{width:t+"%",background:t>=80?"#10B981":t>=60?"#F59E0B":"#EF4444"}})}),(0,a.jsxs)("div",{className:"text-sm",children:[t,"%"]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Nice-to-haves"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:a.jsx("div",{className:"h-2 rounded",style:{width:i+"%",background:i>=80?"#10B981":i>=60?"#F59E0B":"#EF4444"}})}),(0,a.jsxs)("div",{className:"text-sm",children:[i,"%"]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"Semantic coverage"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-full bg-gray-100 h-2 rounded",children:a.jsx("div",{className:"h-2 rounded",style:{width:l+"%",background:l>=80?"#10B981":l>=60?"#F59E0B":"#EF4444"}})}),(0,a.jsxs)("div",{className:"text-sm",children:[l,"%"]})]}),(0,a.jsxs)("div",{className:"text-xs mb-2",children:[a.jsx("strong",{children:"Top missing:"})," ",(e?.topMissing||[]).slice(0,5).join(", ")||"—"]}),Array.isArray(e?.gaps)&&e.gaps.length>0&&(0,a.jsxs)("div",{className:"text-xs mt-2",children:[a.jsx("div",{className:"label mb-1",children:"Gap map (nearest support)"}),a.jsx("ul",{className:"list-disc ml-4",children:e.gaps.slice(0,5).map((e,s)=>(0,a.jsxs)("li",{children:[a.jsx("strong",{children:e.requirement}),' → match "',e.nearestBullet,'" (score ',Math.round(100*(e.score||0))/100,")"]},s))})]}),(0,a.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label",children:"Matched"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:(e?.matched||[]).slice(0,20).map((e,s)=>a.jsx("span",{className:"badge border-green-300",children:e},s))})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label",children:"Missing (relevant)"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:(e?.missing||[]).slice(0,20).map((e,s)=>a.jsx("span",{className:"badge border-red-300",children:e},s))})]})]}),e?.warnings?.length>0&&a.jsx("div",{className:"mt-3 text-xs text-red-600",children:e.warnings.map((e,s)=>(0,a.jsxs)("div",{children:["⚠️ ",e]},s))})]})}function g({sessionId:e,onClose:s}){let[t,l]=(0,i.useState)("minimal"),[n,r]=(0,i.useState)("pdf"),[d,o]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!0),[m,p]=(0,i.useState)(!1),[h,x]=(0,i.useState)(null);async function g(){p(!0);try{let s=await fetch("/api/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,template:t,format:n,options:{includeSkills:d,includeSummary:c},session_snapshot:null})});if(!s.ok){let e=null;try{e=await s.json()}catch{}throw Error(e?.message||`Export HTTP ${s.status}`)}let a=s.headers.get("content-type")||"";if(!/^(application\/pdf|application\/vnd\.openxmlformats-.*docx)/i.test(a)){let e="";try{e=await s.text()}catch{}throw Error(`Malformed export response: ${e?.slice(0,500)}`)}let i=await s.blob(),l=URL.createObjectURL(i);x(l)}catch(e){alert(e?.message||"Failed to export.")}finally{p(!1)}}return a.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"card p-6 w-[560px] max-w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"font-semibold",children:"Export"}),a.jsx("button",{className:"button-outline",onClick:s,children:"Close"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"Template"}),(0,a.jsxs)("select",{className:"input",value:t,onChange:e=>l(e.target.value),children:[a.jsx("option",{value:"classic",children:"Classic"}),a.jsx("option",{value:"modern",children:"Modern"}),a.jsx("option",{value:"minimal",children:"Minimal"}),a.jsx("option",{value:"executive",children:"Executive"}),a.jsx("option",{value:"academic",children:"Academic/Projects"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-1",children:"Format"}),(0,a.jsxs)("select",{className:"input",value:n,onChange:e=>r(e.target.value),children:[a.jsx("option",{value:"pdf",children:"PDF"}),a.jsx("option",{value:"docx",children:"DOCX"})]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:c,onChange:e=>u(e.target.checked)}),"Include Summary"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:e=>o(e.target.checked)}),"Include Skills"]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx("button",{className:"button",onClick:g,disabled:m,children:m?"Exporting…":"Export"}),h&&a.jsx("a",{className:"button-outline",href:h,target:"_blank",rel:"noreferrer",children:"Download"})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-3",children:"DOCX exports instantly. PDF may take a few seconds. All exports are text-selectable and ATS-safe."})]})})}function v({session:e}){let[s,t]=(0,i.useState)(!1),[l,n]=(0,i.useState)("tailored"),[r,v]=(0,i.useState)("minimal"),[f,j]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),N=(0,i.useMemo)(()=>JSON.stringify(e.preview_sections_json,null,2),[e]),w=(0,i.useMemo)(()=>JSON.stringify(e.original_sections_json,null,2),[e]);return(0,a.jsxs)("section",{className:"card p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("h2",{children:"Preview"}),(0,a.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[a.jsx("button",{className:`button-outline ${"tailored"===l?"border-black":""}`,onClick:()=>n("tailored"),children:"Tailored"}),a.jsx("button",{className:`button-outline ${"original"===l?"border-black":""}`,onClick:()=>n("original"),children:"Original"}),a.jsx("button",{className:"button-outline",onClick:async()=>{y(!0);try{let s=await fetch("/api/honesty",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e.session_id})}),t=await s.json();if(!s.ok)throw Error(t?.error||"Honesty scan failed");j(t)}catch(e){alert(e?.message||"Honesty scan failed")}finally{y(!1)}},children:"Honesty scan"}),a.jsx("button",{className:"button",onClick:()=>t(!0),children:"Export"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"label",children:"Template"}),(0,a.jsxs)("select",{className:"input w-auto",value:r,onChange:e=>v(e.target.value),children:[a.jsx("option",{value:"classic",children:"Classic"}),a.jsx("option",{value:"modern",children:"Modern"}),a.jsx("option",{value:"minimal",children:"Minimal"}),a.jsx("option",{value:"executive",children:"Executive"}),a.jsx("option",{value:"academic",children:"Academic/Projects"})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"label mb-2",children:["JSON structure (",l,")"]}),a.jsx("pre",{className:"bg-gray-50 p-3 rounded overflow-auto text-xs h-96",children:"tailored"===l?N:w})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"label mb-2",children:"Changes"}),a.jsx(h,{diffs:e.diffs||[]}),a.jsx("div",{className:"mt-4",children:a.jsx(x,{stats:e.keyword_stats})}),(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("div",{className:"label mb-2",children:"Visual preview"}),a.jsx("iframe",{className:"w-full h-96 bg-white border rounded",srcDoc:function(){let s=e.preview_sections_json,t={includeSkills:!0,includeSummary:!0};return"classic"===r?`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  body { font-family: Arial, Helvetica, sans-serif; color:#111; font-size: 12pt; line-height: 1.35; }
  h1,h2 { margin: 0 0 6px; }
  h2 { font-size: 13pt; border-bottom: 1px solid #ddd; padding-bottom: 4px; }
  .sec { margin: 14px 0; }
  .role { font-weight: bold; }
  ul { margin: 6px 0 0 16px; padding: 0; }
  li { margin: 4px 0; }
  .chips span { display:inline-block; border:1px solid #ccc; border-radius: 12px; padding: 2px 8px; margin: 0 6px 6px 0; font-size: 10pt; }
</style></head><body>
  ${t.includeSummary&&s.summary?`<div class="sec"><h2>Summary</h2><div>${c(s.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2>
    ${s.experience.map(e=>`
      <div class="entry">
        <div class="role">${c(e.role)} — ${c(e.company)}</div>
        <div class="dates" style="color:#666">${c(e.dates)}</div>
        <ul>${e.bullets.map(e=>`<li>${c(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${t.includeSkills&&s.skills?.length?`<div class="sec"><h2>Skills</h2><div class="chips">${(s.skills||[]).map(e=>`<span>${c(e)}</span>`).join("")}</div></div>`:""}
  ${s.education?.length?`<div class="sec"><h2>Education</h2><ul>${(s.education||[]).map(e=>`<li>${c(e)}</li>`).join("")}</ul></div>`:""}
  ${s.certifications?.length?`<div class="sec"><h2>Certifications</h2><ul>${(s.certifications||[]).map(e=>`<li>${c(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`:"modern"===r?`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  body { font-family: Inter, Arial, Helvetica, sans-serif; color:#111; font-size: 12pt; line-height: 1.35; }
  h2 { font-size: 13pt; margin: 0 0 8px; }
  .sec { margin: 14px 0; }
  .row { display:flex; justify-content: space-between; }
  .role { font-weight: 600; }
  ul { margin: 6px 0 0 16px; padding: 0; }
  li { margin: 4px 0; }
  .chips span { display:inline-block; background:#f5f5f5; border-radius: 6px; padding: 2px 8px; margin: 0 6px 6px 0; font-size: 10pt; }
  .divider { height:1px; background:#eee; margin:8px 0; }
</style></head><body>
  ${t.includeSummary&&s.summary?`<div class="sec"><h2>Summary</h2><div>${o(s.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2><div class="divider"></div>
    ${s.experience.map(e=>`
      <div class="entry">
        <div class="row"><div class="role">${o(e.role)} — ${o(e.company)}</div><div style="color:#666">${o(e.dates)}</div></div>
        <ul>${e.bullets.map(e=>`<li>${o(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${t.includeSkills&&s.skills?.length?`<div class="sec"><h2>Skills</h2><div class="chips">${(s.skills||[]).map(e=>`<span>${o(e)}</span>`).join("")}</div></div>`:""}
  ${s.education?.length?`<div class="sec"><h2>Education</h2><ul>${(s.education||[]).map(e=>`<li>${o(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`:"executive"===r?function(e,s){var t;let a=`
  body{font-family: Arial, Helvetica, sans-serif; color:#0b0b0b; font-size:11.5pt; line-height:1.38;}
  .wrap{max-width:820px; margin:0 auto;}
  .hdr{display:grid; grid-template-columns: 2fr 1fr; gap:16px; align-items:flex-end; border-bottom:2px solid #111; padding-bottom:10px; margin-bottom:14px}
  .name{font-size:20pt; font-weight:700; letter-spacing:.2px}
  .contact{font-size:10pt; color:#444; text-align:right}
  h2{font-size:12.8pt; margin:14px 0 6px; letter-spacing:.2px}
  .sec{margin: 6px 0 10px}
  .role{font-weight:600}
  ul{margin:4px 0 0 16px; padding:0}
  li{margin:2px 0}
  .meta{color:#666; font-weight:400}
  `,i=e.contact?.name||"",l=(t=e.contact)?[t.email,t.phone,t.location,t.website].filter(Boolean):[];return`<!doctype html><html><head><meta charset="utf-8" /><style>${a}</style></head><body><div class="wrap">
  <div class="hdr">
    <div class="name">${u(i)}</div>
    <div class="contact">${l.join(" \xb7 ")}</div>
  </div>
  ${s.includeSummary&&e.summary?`<div class="sec"><h2>Executive Summary</h2><div>${u(e.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2>
    ${e.experience.map(e=>`
      <div class="entry">
        <div class="role">${u(e.role)} — ${u(e.company)} <span class="meta">(${u(e.dates)})</span></div>
        <ul>${e.bullets.map(e=>`<li>${u(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Core Skills</h2><div>${(e.skills||[]).join(" • ")}</div></div>`:""}
  ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${u(e)}</li>`).join("")}</ul></div>`:""}
  </div></body></html>`}(s,t):"academic"===r?function(e,s){let t=`
  body{font-family: Arial, Helvetica, sans-serif; color:#111; font-size:11.5pt; line-height:1.4}
  .wrap{max-width:820px; margin:0 auto}
  h1{font-size:18pt; margin:0 0 6px; font-weight:700}
  h2{font-size:12.5pt; margin:12px 0 6px}
  .sec{margin: 6px 0 10px}
  ul{margin:4px 0 0 16px; padding:0}
  li{margin:2px 0}
  .meta{color:#666}
  `,a=e.contact||{};return`<!doctype html><html><head><meta charset="utf-8" /><style>${t}</style></head><body><div class="wrap">
    <h1>${p(a.name||"")}</h1>
    ${s.includeSummary&&e.summary?`<div class="sec"><h2>Research Summary</h2><div>${p(e.summary)}</div></div>`:""}
    ${m("Projects",e.projects?.map(e=>`${p(e.name)} — ${e.bullets.map(e=>p(e)).join("; ")}`)||[])}
    ${m("Publications",e.publications||[])}
    ${m("Teaching",e.teaching||[])}
    ${m("Experience",(e.experience||[]).map(e=>`${p(e.role)} — ${p(e.company)} <span class=meta>(${p(e.dates)})</span>`))}
    ${s.includeSkills&&e.skills?.length?`<div class="sec"><h2>Skills</h2><div>${(e.skills||[]).join(" • ")}</div></div>`:""}
    ${e.education?.length?`<div class="sec"><h2>Education</h2><ul>${(e.education||[]).map(e=>`<li>${p(e)}</li>`).join("")}</ul></div>`:""}
  </div></body></html>`}(s,t):`<!doctype html>
<html><head><meta charset="utf-8" /><style>
  /* Force safe system fonts to avoid blank glyphs in serverless Chromium */
  body { font-family: Arial, Helvetica, sans-serif; color:#111; font-size: 11.5pt; line-height: 1.35; }
  h2 { font-size: 12.5pt; margin: 0 0 6px; letter-spacing: 0.2px; }
  .sec { margin: 16px 0; }
  .role { font-weight: 600; }
  ul { margin: 4px 0 0 16px; padding: 0; }
  li { margin: 2px 0; }
  .sep { height:1px; background:#eaeaea; margin:10px 0; }
</style></head><body>
  ${t.includeSummary&&s.summary?`<div class="sec"><h2>Summary</h2><div>${d(s.summary)}</div></div>`:""}
  <div class="sec"><h2>Experience</h2><div class="sep"></div>
    ${s.experience.map(e=>`
      <div class="entry">
        <div class="role">${d(e.role)} — ${d(e.company)} <span style="color:#666; font-weight:400">(${d(e.dates)})</span></div>
        <ul>${e.bullets.map(e=>`<li>${d(e)}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>
  ${t.includeSkills&&s.skills?.length?`<div class="sec"><h2>Skills</h2><div>${(s.skills||[]).join(" • ")}</div></div>`:""}
  ${s.education?.length?`<div class="sec"><h2>Education</h2><ul>${(s.education||[]).map(e=>`<li>${d(e)}</li>`).join("")}</ul></div>`:""}
</body></html>`}()})]})]})]}),f&&(0,a.jsxs)("div",{className:"mt-4 border rounded-md p-3 bg-white",children:[a.jsx("div",{className:"font-medium mb-1",children:"Honesty scan"}),f.flags?.length?f.flags.map((e,s)=>(0,a.jsxs)("div",{className:"mb-2 text-xs",children:[(0,a.jsxs)("div",{children:["⚠️ ",a.jsx("strong",{children:e.role}),": ",e.bullet]}),(0,a.jsxs)("div",{className:"text-gray-600",children:["Backed by: ",(e.backing||[]).join(" | ")||"No close match in original."]})]},s)):a.jsx("div",{className:"text-xs text-green-700",children:"All rewritten bullets appear supported by the original."})]}),s&&a.jsx(g,{sessionId:e.session_id,onClose:()=>t(!1)})]})}let f=n()(async()=>{},{loadableGenerated:{modules:["app/page.tsx -> ../components/FileDrop"]},ssr:!1}),j=n()(async()=>{},{loadableGenerated:{modules:["app/page.tsx -> ../components/OCRBanner"]},ssr:!1});function b(){let[e,s]=(0,i.useState)(null),[l,n]=(0,i.useState)(""),[d,o]=(0,i.useState)("professional"),[c,u]=(0,i.useState)(null),[m,p]=(0,i.useState)(!1),h=function(){let[e,s]=(0,i.useState)(!1),[t,a]=(0,i.useState)("");return{ok:e,code:t,setCode:a,submit:function(){t&&(document.cookie=`invite=${encodeURIComponent(t)}; path=/; max-age=2592000`,s(!0))}}}(),[x,g]=(0,i.useState)(""),b=(0,i.useRef)(!1);async function y(e){try{if(!(e.type.includes("pdf")||e.name.toLowerCase().endsWith(".pdf")))return"";let s=(await t.e(566).then(t.t.bind(t,6566,23))).default||await t.e(566).then(t.t.bind(t,6566,23)),{getPdfJs:a}=await t.e(569).then(t.bind(t,14569)),i=await a(),l=await e.arrayBuffer(),n=await i.getDocument({data:l}).promise,r=await n.getPage(1),d=r.getViewport({scale:1.5}),o=document.createElement("canvas"),c=o.getContext("2d");o.width=d.width,o.height=d.height,await r.render({canvasContext:c,viewport:d}).promise;let u=o.toDataURL("image/png"),{data:{text:m}}=await s.recognize(u,"eng");return(m||"").trim()}catch{return""}}async function N(){if(!e&&!x)return alert("Upload a resume or run OCR, and paste a job description.");if(!l)return alert("Paste a job description.");p(!0);try{if(e&&(e.type?.includes("pdf")||e.name?.toLowerCase().endsWith(".pdf"))&&!b.current){b.current=!0;let s=await y(e);s&&s.length>50&&g(s)}let s=new FormData;e&&s.append("resume_file",e),!e&&x&&s.append("resume_text",x),s.append("jd_text",l),s.append("tone",d);let t=await fetch("/api/tailor",{method:"POST",body:s}),a=await t.json();if(!t.ok){if(a?.code==="scanned_pdf"&&e&&!b.current){b.current=!0;let s=await y(e);if(s&&s.length>50){g(s);let e=new FormData;e.append("resume_text",s),e.append("jd_text",l),e.append("tone",d);let t=await fetch("/api/tailor",{method:"POST",body:e}),a=await t.json();if(!t.ok)throw Error(a?.error||"Tailoring failed.");u(a);return}}if(a?.code==="scanned_pdf"&&e){let s=await y(e);if(s&&s.length>50){let e=new FormData;e.append("resume_text",s),e.append("jd_text",l),e.append("tone",d);let t=await fetch("/api/tailor",{method:"POST",body:e}),a=await t.json();if(!t.ok)throw Error(a?.error||"Tailoring failed.");u(a);return}}throw Error(a?.error||"Tailoring failed.")}if(a?.code==="scanned_pdf"&&e){let s=await y(e);if(s&&s.length>50){let e=new FormData;e.append("resume_text",s),e.append("jd_text",l),e.append("tone",d);let t=await fetch("/api/tailor",{method:"POST",body:e}),a=await t.json();if(!t.ok)throw Error(a?.error||"Tailoring failed.");u(a);return}}u(a)}catch(e){alert(e?.message||"Failed to tailor.")}finally{p(!1)}}return h.ok?(0,a.jsxs)("main",{className:"grid gap-6",children:[(0,a.jsxs)("section",{className:"card p-6",children:[a.jsx("h1",{className:"mb-1",children:"Tailor your resume to any job"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Upload resume → paste job → click Tailor. Bullets rewritten with integrity guardrails. Export ATS-safe PDF/DOCX."}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"1) Upload Resume (PDF, DOCX, or TXT)"}),a.jsx(f,{onFile:s}),a.jsx(j,{onText:g})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"2) Paste Job Listing (URL or plain text)"}),a.jsx(r,{value:l,onChange:n})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[a.jsx("label",{className:"label",children:"Tone"}),(0,a.jsxs)("select",{className:"input w-auto",value:d,onChange:e=>o(e.target.value),children:[a.jsx("option",{value:"professional",children:"Professional"}),a.jsx("option",{value:"concise",children:"Concise"}),a.jsx("option",{value:"impact-heavy",children:"Impact-heavy"})]}),a.jsx("button",{className:"button ml-auto",onClick:N,disabled:m,children:m?"Tailoring…":"Tailor"})]})]}),c&&a.jsx(v,{session:c})]}):a.jsx("main",{className:"grid gap-6",children:(0,a.jsxs)("section",{className:"card p-6",children:[a.jsx("h1",{className:"mb-1",children:"Enter Invite Code"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Access is limited during beta. Enter your invite code to continue."}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"input",placeholder:"Invite code",value:h.code,onChange:e=>h.setCode(e.target.value)}),a.jsx("button",{className:"button",onClick:h.submit,children:"Continue"})]})]})})}},14633:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var a=t(10326);function i(){return a.jsx("button",{className:"button-outline text-xs",onClick:function(){"undefined"!=typeof document&&document.documentElement.classList.toggle("dark")},children:"Toggle Dark"})}},43353:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return l}});let a=t(91174);t(10326),t(17577);let i=a._(t(77028));function l(e,s){var t;let a={loading:e=>{let{error:s,isLoading:t,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let l={...a,...s};return(0,i.default)({...l,modules:null==(t=l.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},933:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let a=t(94129);function i(e){let{reason:s,children:t}=e;throw new a.BailoutToCSRError(s)}},77028:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return o}});let a=t(10326),i=t(17577),l=t(933),n=t(46618);function r(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},o=function(e){let s={...d,...e},t=(0,i.lazy)(()=>s.loader().then(r)),o=s.loading;function c(e){let r=o?(0,a.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=s.ssr?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.PreloadCss,{moduleIds:s.modules}),(0,a.jsx)(t,{...e})]}):(0,a.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(t,{...e})});return(0,a.jsx)(i.Suspense,{fallback:r,children:d})}return c.displayName="LoadableComponent",c}},46618:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return l}});let a=t(10326),i=t(55403);function l(e){let{moduleIds:s}=e,t=(0,i.getExpectedRequestStore)("next/dynamic css"),l=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));l.push(...s)}}return 0===l.length?null:(0,a.jsx)(a.Fragment,{children:l.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},37716:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m,metadata:()=>u});var a=t(19510),i=t(85384),l=t.n(i);t(67272);var n=t(68570);let r=(0,n.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/components/ThemeToggle.tsx`),{__esModule:d,$$typeof:o}=r;r.default;let c=(0,n.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/components/ThemeToggle.tsx#default`),u={title:"AI Resume Tailor",description:"Tailor your resume to any job in seconds—ATS-safe and integrity-first."};function m({children:e}){return a.jsx("html",{lang:"en",className:"light",children:a.jsx("body",{className:l().className,children:(0,a.jsxs)("div",{className:"container py-10",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded bg-black"}),a.jsx("span",{className:"font-semibold",children:"AI Resume Tailor"}),(0,a.jsxs)("span",{className:"badge",children:["Integrity: ",a.jsx("strong",{children:"No fabricated credentials"})]}),(0,a.jsxs)("span",{className:"badge",children:["Privacy: ",a.jsx("strong",{children:"Files deleted immediately"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(c,{}),a.jsx("div",{className:"text-xs text-gray-500",children:"Processed in-memory • Files deleted immediately • Not stored unless you opt in"})]})]}),e,a.jsx("footer",{className:"mt-12 text-xs text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{children:["\xa9 ",new Date().getFullYear()," Resume Tailor"]}),a.jsx("span",{children:"Privacy: files processed in memory; not persisted by default."})]})})]})})})}},90908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>r});var a=t(68570);let i=(0,a.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx`),{__esModule:l,$$typeof:n}=i;i.default;let r=(0,a.createProxy)(String.raw`/Users/yassinkhalil/Downloads/ai-resume-tailor_v2_full/app/page.tsx#default`)},67272:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,892],()=>t(42144));module.exports=a})();