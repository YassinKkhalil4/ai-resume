(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5848:function(e,a,n){Promise.resolve().then(n.bind(n,2914))},2914:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return t}});var s=n(7437),i=n(2265);function t(){let[e,a]=(0,i.useState)(!1),[n,t]=(0,i.useState)(""),[l,c]=(0,i.useState)(null);async function r(){(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:n})})).ok?(a(!0),o()):alert("Invalid key")}async function o(){let e=await fetch("/api/admin/config");e.ok&&c(await e.json())}async function d(){(await fetch("/api/admin/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok&&alert("Saved")}return e?(0,s.jsxs)("div",{className:"card p-6 grid gap-4",children:[(0,s.jsx)("div",{className:"font-semibold",children:"Config"}),l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"label",children:"IP rate/min"}),(0,s.jsx)("input",{className:"input",type:"number",value:l.rate.ipPerMin,onChange:e=>c({...l,rate:{...l.rate,ipPerMin:Number(e.target.value)}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"label",children:"Session rate/min"}),(0,s.jsx)("input",{className:"input",type:"number",value:l.rate.sessionPerMin,onChange:e=>c({...l,rate:{...l.rate,sessionPerMin:Number(e.target.value)}})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"label",children:"Invite codes (comma-separated)"}),(0,s.jsx)("input",{className:"input",value:(l.invites||[]).join(","),onChange:e=>c({...l,invites:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"label",children:"Override OpenAI API key (stores in /tmp)"}),(0,s.jsx)("input",{className:"input",placeholder:"sk-...",value:l.openaiKey||"",onChange:e=>c({...l,openaiKey:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:!!l.pauseTailor,onChange:e=>c({...l,pauseTailor:e.target.checked})})," Pause Tailoring"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:!!l.pauseExport,onChange:e=>c({...l,pauseExport:e.target.checked})})," Pause Export"]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{className:"button",onClick:d,children:"Save"}),(0,s.jsx)("button",{className:"button-outline",onClick:o,children:"Reload"})]})]})]}):(0,s.jsxs)("div",{className:"card p-6",children:[(0,s.jsx)("div",{className:"font-semibold mb-2",children:"Admin"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{className:"input",placeholder:"Admin key",value:n,onChange:e=>t(e.target.value)}),(0,s.jsx)("button",{className:"button",onClick:r,children:"Login"})]})]})}}},function(e){e.O(0,[478,23,744],function(){return e(e.s=5848)}),_N_E=e.O()}]);