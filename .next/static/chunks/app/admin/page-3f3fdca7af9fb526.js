(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5848:function(e,n,a){Promise.resolve().then(a.bind(a,2914))},2914:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return t}});var i=a(7437),s=a(2265);function t(){let[e,n]=(0,s.useState)(!1),[a,t]=(0,s.useState)(""),[l,r]=(0,s.useState)(null);async function c(){(await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:a})})).ok?(n(!0),o()):alert("Invalid key")}async function o(){let e=await fetch("/api/admin/config");e.ok&&r(await e.json())}async function d(){(await fetch("/api/admin/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok&&alert("Saved")}return e?(0,i.jsxs)("div",{className:"card p-6 grid gap-4",children:[(0,i.jsx)("div",{className:"font-semibold",children:"Config"}),l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"label",children:"IP rate/min"}),(0,i.jsx)("input",{className:"input",type:"number",value:l.rate.ipPerMin,onChange:e=>r({...l,rate:{...l.rate,ipPerMin:Number(e.target.value)}})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"label",children:"Session rate/min"}),(0,i.jsx)("input",{className:"input",type:"number",value:l.rate.sessionPerMin,onChange:e=>r({...l,rate:{...l.rate,sessionPerMin:Number(e.target.value)}})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"label",children:"Invite codes (comma-separated)"}),(0,i.jsx)("input",{className:"input",value:(l.invites||[]).join(","),onChange:e=>r({...l,invites:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"label",children:"Override OpenAI API key (stores in /tmp)"}),(0,i.jsx)("input",{className:"input",placeholder:"sk-...",value:l.openaiKey||"",onChange:e=>r({...l,openaiKey:e.target.value})})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("button",{className:"button",onClick:d,children:"Save"}),(0,i.jsx)("button",{className:"button-outline",onClick:o,children:"Reload"})]})]})]}):(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsx)("div",{className:"font-semibold mb-2",children:"Admin"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{className:"input",placeholder:"Admin key",value:a,onChange:e=>t(e.target.value)}),(0,i.jsx)("button",{className:"button",onClick:c,children:"Login"})]})]})}}},function(e){e.O(0,[478,23,744],function(){return e(e.s=5848)}),_N_E=e.O()}]);