(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4033:function(e,s,l){Promise.resolve().then(l.bind(l,9213))},9213:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return m}});var t=l(7437),a=l(2265),n=l(551);function i(e){let{value:s,onChange:l}=e,[n,i]=(0,a.useState)(""),[r,d]=(0,a.useState)(!1);async function c(){if(n){d(!0);try{let e=await fetch("/api/tailor",{method:"POST",body:(()=>{let e=new FormData;return e.append("jd_url",n),e.append("mode","fetchOnly"),e})()}),s=await e.json();e.ok&&(null==s?void 0:s.jd_text)?l(s.jd_text):alert((null==s?void 0:s.error)||"Could not fetch that URL. Paste text instead.")}catch(e){alert((null==e?void 0:e.message)||"Failed to fetch URL.")}finally{d(!1)}}}return(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("textarea",{className:"input h-40",placeholder:"Paste the job description here…",value:s,onChange:e=>l(e.target.value)}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{className:"input",placeholder:"…or paste a job URL",value:n,onChange:e=>i(e.target.value)}),(0,t.jsx)("button",{className:"button-outline",onClick:c,disabled:r,children:r?"Fetching…":"Fetch URL"})]})]})}function r(e){let{diffs:s}=e,[l,n]=(0,a.useState)("all"),i=(0,a.useMemo)(()=>["all",...new Set(s.map(e=>e.role))],[s]),r=(0,a.useMemo)(()=>s.filter(e=>"all"===l||e.role===l),[s,l]);return(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-gray-50 text-xs max-h-96 overflow-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"label",children:"Section"}),(0,t.jsx)("select",{className:"input w-auto",value:l,onChange:e=>n(e.target.value),children:i.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),0===r.length&&(0,t.jsx)("div",{className:"text-gray-500",children:"No changes."}),r.map((e,s)=>(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"font-medium",children:e.role}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"label",children:"Original"}),(0,t.jsx)("ul",{className:"list-disc pl-4",children:e.original.map((e,s)=>(0,t.jsx)("li",{className:"line-through text-gray-500",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"label",children:"Tailored"}),(0,t.jsx)("ul",{className:"list-disc pl-4",children:e.tailored.map((s,l)=>(0,t.jsx)("li",{className:"text-green-700 underline decoration-green-400",title:(e.reasons||[]).join(" • "),children:s},l))})]})]})]},s))]})}function d(e){var s;let{stats:l}=e,a=Math.round(100*((null==l?void 0:l.coverage)||0)),n=Math.round(100*((null==l?void 0:l.mustCoverage)||0)),i=Math.round(100*((null==l?void 0:l.niceCoverage)||0));return(0,t.jsxs)("div",{className:"border rounded-md p-3 bg-white",children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"ATS Check"}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Keyword coverage and sanity checks."}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-full bg-gray-100 h-2 rounded",children:(0,t.jsx)("div",{className:"h-2 rounded",style:{width:a+"%",background:a>=80?"#10B981":a>=60?"#F59E0B":"#EF4444"}})}),(0,t.jsxs)("div",{className:"text-sm",children:[a,"% overall"]})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-gray-600",children:"Must-haves"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"w-full bg-gray-100 h-2 rounded",children:(0,t.jsx)("div",{className:"h-2 rounded",style:{width:n+"%",background:n>=80?"#10B981":n>=60?"#F59E0B":"#EF4444"}})}),(0,t.jsxs)("div",{className:"text-sm",children:[n,"%"]})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-gray-600",children:"Nice-to-haves"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-full bg-gray-100 h-2 rounded",children:(0,t.jsx)("div",{className:"h-2 rounded",style:{width:i+"%",background:i>=80?"#10B981":i>=60?"#F59E0B":"#EF4444"}})}),(0,t.jsxs)("div",{className:"text-sm",children:[i,"%"]})]}),(0,t.jsxs)("div",{className:"text-xs mb-2",children:[(0,t.jsx)("strong",{children:"Top missing:"})," ",((null==l?void 0:l.topMissing)||[]).slice(0,5).join(", ")||"—"]}),(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-3 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"label",children:"Matched"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:((null==l?void 0:l.matched)||[]).slice(0,20).map((e,s)=>(0,t.jsx)("span",{className:"badge border-green-300",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"label",children:"Missing (relevant)"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:((null==l?void 0:l.missing)||[]).slice(0,20).map((e,s)=>(0,t.jsx)("span",{className:"badge border-red-300",children:e},s))})]})]}),(null==l?void 0:null===(s=l.warnings)||void 0===s?void 0:s.length)>0&&(0,t.jsx)("div",{className:"mt-3 text-xs text-red-600",children:l.warnings.map((e,s)=>(0,t.jsxs)("div",{children:["⚠️ ",e]},s))})]})}function c(e){let{sessionId:s,onClose:l}=e,[n,i]=(0,a.useState)("minimal"),[r,d]=(0,a.useState)("pdf"),[c,o]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(!1),[j,p]=(0,a.useState)(null);async function f(){h(!0);try{let e=await fetch("/api/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:s,template:n,format:r,options:{includeSkills:c,includeSummary:u}})}),l=await e.text(),t=null;try{t=l?JSON.parse(l):null}catch(e){t=null}if(!e.ok){let s=t&&(t.error||t.message)||l||"Export failed (".concat(e.status,")");throw Error("string"==typeof s?s:"Export failed")}if(!t||!t.download_url)throw Error("Malformed response from export API");p(t.download_url)}catch(e){alert((null==e?void 0:e.message)||"Failed to export.")}finally{h(!1)}}return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"card p-6 w-[560px] max-w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"font-semibold",children:"Export"}),(0,t.jsx)("button",{className:"button-outline",onClick:l,children:"Close"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"label mb-1",children:"Template"}),(0,t.jsxs)("select",{className:"input",value:n,onChange:e=>i(e.target.value),children:[(0,t.jsx)("option",{value:"classic",children:"Classic"}),(0,t.jsx)("option",{value:"modern",children:"Modern"}),(0,t.jsx)("option",{value:"minimal",children:"Minimal"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"label mb-1",children:"Format"}),(0,t.jsxs)("select",{className:"input",value:r,onChange:e=>d(e.target.value),children:[(0,t.jsx)("option",{value:"pdf",children:"PDF"}),(0,t.jsx)("option",{value:"docx",children:"DOCX"})]})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex items-center gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:u,onChange:e=>m(e.target.checked)}),"Include Summary"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:c,onChange:e=>o(e.target.checked)}),"Include Skills"]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,t.jsx)("button",{className:"button",onClick:f,disabled:x,children:x?"Exporting…":"Export"}),j&&(0,t.jsx)("a",{className:"button-outline",href:j,target:"_blank",rel:"noreferrer",children:"Download"})]}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-3",children:"DOCX exports instantly. PDF may take a few seconds. All exports are text-selectable and ATS-safe."})]})})}function o(e){var s;let{session:l}=e,[n,i]=(0,a.useState)(!1),[o,u]=(0,a.useState)("tailored"),[m,x]=(0,a.useState)(null),[h,j]=(0,a.useState)(!1),p=(0,a.useMemo)(()=>JSON.stringify(l.preview_sections_json,null,2),[l]),f=(0,a.useMemo)(()=>JSON.stringify(l.original_sections_json,null,2),[l]);return(0,t.jsxs)("section",{className:"card p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("h2",{children:"Preview"}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,t.jsx)("button",{className:"button-outline ".concat("tailored"===o?"border-black":""),onClick:()=>u("tailored"),children:"Tailored"}),(0,t.jsx)("button",{className:"button-outline ".concat("original"===o?"border-black":""),onClick:()=>u("original"),children:"Original"}),(0,t.jsx)("button",{className:"button-outline",onClick:async()=>{j(!0);try{let e=await fetch("/api/honesty",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:l.session_id})}),s=await e.json();if(!e.ok)throw Error((null==s?void 0:s.error)||"Honesty scan failed");x(s)}catch(e){alert((null==e?void 0:e.message)||"Honesty scan failed")}finally{j(!1)}},children:"Honesty scan"}),(0,t.jsx)("button",{className:"button",onClick:()=>i(!0),children:"Export"})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"label mb-2",children:["JSON structure (",o,")"]}),(0,t.jsx)("pre",{className:"bg-gray-50 p-3 rounded overflow-auto text-xs h-96",children:"tailored"===o?p:f})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"label mb-2",children:"Changes"}),(0,t.jsx)(r,{diffs:l.diffs||[]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(d,{stats:l.keyword_stats})})]})]}),m&&(0,t.jsxs)("div",{className:"mt-4 border rounded-md p-3 bg-white",children:[(0,t.jsx)("div",{className:"font-medium mb-1",children:"Honesty scan"}),(null===(s=m.flags)||void 0===s?void 0:s.length)?m.flags.map((e,s)=>(0,t.jsxs)("div",{className:"mb-2 text-xs",children:[(0,t.jsxs)("div",{children:["⚠️ ",(0,t.jsx)("strong",{children:e.role}),": ",e.bullet]}),(0,t.jsxs)("div",{className:"text-gray-600",children:["Backed by: ",(e.backing||[]).join(" | ")||"No close match in original."]})]},s)):(0,t.jsx)("div",{className:"text-xs text-green-700",children:"All rewritten bullets appear supported by the original."})]}),n&&(0,t.jsx)(c,{sessionId:l.session_id,onClose:()=>i(!1)})]})}let u=l.n(n)()(()=>Promise.all([l.e(486),l.e(971),l.e(328)]).then(l.bind(l,5328)),{loadableGenerated:{webpack:()=>[5328]},ssr:!1});function m(){let[e,s]=(0,a.useState)(null),[l,n]=(0,a.useState)(""),[r,d]=(0,a.useState)("professional"),[c,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(!1),j=function(){let[e,s]=(0,a.useState)(!1),[l,t]=(0,a.useState)("");return(0,a.useEffect)(()=>{s(document.cookie.includes("invite="))},[]),{ok:e,code:l,setCode:t,submit:function(){l&&(document.cookie="invite=".concat(encodeURIComponent(l),"; path=/; max-age=2592000"),s(!0))}}}();async function p(){if(!e||!l)return alert("Upload a resume and paste a job description.");h(!0);try{let s=new FormData;s.append("resume_file",e),s.append("jd_text",l),s.append("tone",r);let t=await fetch("/api/tailor",{method:"POST",body:s}),a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.error)||"Tailoring failed.");m(a)}catch(e){alert((null==e?void 0:e.message)||"Failed to tailor.")}finally{h(!1)}}return j.ok?(0,t.jsxs)("main",{className:"grid gap-6",children:[(0,t.jsxs)("section",{className:"card p-6",children:[(0,t.jsx)("h1",{className:"mb-1",children:"Tailor your resume to any job"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Upload resume → paste job → click Tailor. Bullets rewritten with integrity guardrails. Export ATS-safe PDF/DOCX."}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"1) Upload Resume (PDF, DOCX, or TXT)"}),(0,t.jsx)(u,{onFile:s})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"label",children:"2) Paste Job Listing (URL or plain text)"}),(0,t.jsx)(i,{value:l,onChange:n})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,t.jsx)("label",{className:"label",children:"Tone"}),(0,t.jsxs)("select",{className:"input w-auto",value:r,onChange:e=>d(e.target.value),children:[(0,t.jsx)("option",{value:"professional",children:"Professional"}),(0,t.jsx)("option",{value:"concise",children:"Concise"}),(0,t.jsx)("option",{value:"impact-heavy",children:"Impact-heavy"})]}),(0,t.jsx)("button",{className:"button ml-auto",onClick:p,disabled:x,children:x?"Tailoring…":"Tailor"})]})]}),c&&(0,t.jsx)(o,{session:c})]}):(0,t.jsx)("main",{className:"grid gap-6",children:(0,t.jsxs)("section",{className:"card p-6",children:[(0,t.jsx)("h1",{className:"mb-1",children:"Enter Invite Code"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Access is limited during beta. Enter your invite code to continue."}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{className:"input",placeholder:"Invite code",value:j.code,onChange:e=>j.setCode(e.target.value)}),(0,t.jsx)("button",{className:"button",onClick:j.submit,children:"Continue"})]})]})})}},551:function(e,s,l){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return n}});let t=l(9920);l(7437),l(2265);let a=t._(l(148));function n(e,s){var l;let t={loading:e=>{let{error:s,isLoading:l,pastDelay:t}=e;return null}};"function"==typeof e&&(t.loader=e);let n={...t,...s};return(0,a.default)({...n,modules:null==(l=n.loadableGenerated)?void 0:l.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},912:function(e,s,l){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let t=l(5592);function a(e){let{reason:s,children:l}=e;if("undefined"==typeof window)throw new t.BailoutToCSRError(s);return l}},148:function(e,s,l){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return c}});let t=l(7437),a=l(2265),n=l(912),i=l(1481);function r(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},c=function(e){let s={...d,...e},l=(0,a.lazy)(()=>s.loader().then(r)),c=s.loading;function o(e){let r=c?(0,t.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,d=s.ssr?(0,t.jsxs)(t.Fragment,{children:["undefined"==typeof window?(0,t.jsx)(i.PreloadCss,{moduleIds:s.modules}):null,(0,t.jsx)(l,{...e})]}):(0,t.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,t.jsx)(l,{...e})});return(0,t.jsx)(a.Suspense,{fallback:r,children:d})}return o.displayName="LoadableComponent",o}},1481:function(e,s,l){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return n}});let t=l(7437),a=l(8512);function n(e){let{moduleIds:s}=e;if("undefined"!=typeof window)return null;let l=(0,a.getExpectedRequestStore)("next/dynamic css"),n=[];if(l.reactLoadableManifest&&s){let e=l.reactLoadableManifest;for(let l of s){if(!e[l])continue;let s=e[l].files.filter(e=>e.endsWith(".css"));n.push(...s)}}return 0===n.length?null:(0,t.jsx)(t.Fragment,{children:n.map(e=>(0,t.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:l.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[478,23,744],function(){return e(e.s=4033)}),_N_E=e.O()}]);